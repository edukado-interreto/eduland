import{q as Z,s as Tt,v as Qe,x as At,y as se,z as Xt,A as Gt,B as A,C as De,r as H,D as Se,E as jt,G as ce,H as ne,I as ze,J as Bt,K as Kt,L as Q,M as et,N as ee,e as t,O as fe,P as ae,Q as pe,R as me,S as Zt,j as _,F as ve,T as rt,U as de,W as he,t as M,X as Et,Y as Me,Z as dt,$ as Ie,a0 as tt,a1 as Jt,a2 as Qt,a3 as $t,a4 as Oe,a5 as Rt,a6 as ea,a7 as ta,a8 as at,a9 as aa,aa as j,ab as Ze,ac as D,ad as la,ae as Pe,af as na,ag as lt,ah as oa,ai as ia,aj as sa,ak as Ue,al as Ft,am as nt,an as ua,ao as qe,ap as Mt,aq as ke,ar as ot,as as Le,at as Te,au as We,av as Lt,aw as ra,ax as _e,ay as da,az as ca,aA as va,aB as Ee,aC as Nt,aD as it,aE as fa,aF as st,aG as Ne,aH as Ht,aI as ma,aJ as ga,aK as ha,aL as ya,aM as ba,aN as pa,aO as _a,aP as xa,aQ as Va,aR as wa,aS as ka,aT as Sa,aU as Dt,aV as Ca,aW as zt,aX as He,aY as ct,aZ as Ia,a_ as Ot,a$ as Pa,g as Ta,b0 as vt,b1 as Aa,b2 as ft,b3 as Ba,b4 as Ea,b5 as $a,b6 as Ra,b7 as Fa,b8 as Ma,b9 as La,d as Ut,ba as Na,bb as Ha,bc as Da,bd as za,be as Ce,bf as Oa,c as ge,o as ie,a as mt,b as xe,u as c,w as u,V as gt,bg as Ua,bh as Ae,bi as ht,bj as yt,bk as Y,m as G,bl as Ve,bm as be,f as Be,bn as bt,bo as qa,bp as Wa,h as pt,bq as Ya,i as Xa,br as Ga,bs as _t,_ as ja,k as Ka,l as Za,bt as Ja,bu as Qa,n as el,p as tl}from"./modulepreload-polyfill-C98QJYl5.js";const Je=Symbol.for("vuetify:layout"),qt=Symbol.for("vuetify:layout-item"),xt=1e3,al=Z({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),ll=Z({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function nl(e){const s=Tt(Je);if(!s)throw new Error("[Vuetify] Could not find injected layout");const l=e.id??`layout-item-${Qe()}`,a=At("useLayoutItem");Bt(qt,{id:l});const n=se(!1);Xt(()=>n.value=!0),Gt(()=>n.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:d}=s.register(a,{...e,active:A(()=>n.value?!1:e.active.value),id:l});return De(()=>s.unregister(l)),{layoutItemStyles:i,layoutRect:s.layoutRect,layoutItemScrimStyles:d}}const ol=(e,s,l,a)=>{let n={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...n}}];for(const d of e){const b=s.get(d),k=l.get(d),h=a.get(d);if(!b||!k||!h)continue;const x={...n,[b.value]:parseInt(n[b.value],10)+(h.value?parseInt(k.value,10):0)};i.push({id:d,layer:x}),n=x}return i};function il(e){const s=Tt(Je,null),l=A(()=>s?s.rootZIndex.value-100:xt),a=H([]),n=Se(new Map),i=Se(new Map),d=Se(new Map),b=Se(new Map),k=Se(new Map),{resizeRef:h,contentRect:x}=jt(),S=A(()=>{const f=new Map,V=e.overlaps??[];for(const g of V.filter(p=>p.includes(":"))){const[p,P]=g.split(":");if(!a.value.includes(p)||!a.value.includes(P))continue;const E=n.get(p),R=n.get(P),q=i.get(p),T=i.get(P);!E||!R||!q||!T||(f.set(P,{position:E.value,amount:parseInt(q.value,10)}),f.set(p,{position:R.value,amount:-parseInt(T.value,10)}))}return f}),m=A(()=>{const f=[...new Set([...d.values()].map(g=>g.value))].sort((g,p)=>g-p),V=[];for(const g of f){const p=a.value.filter(P=>d.get(P)?.value===g);V.push(...p)}return ol(V,n,i,b)}),I=A(()=>!Array.from(k.values()).some(f=>f.value)),w=A(()=>m.value[m.value.length-1].layer),C=ce(()=>({"--v-layout-left":ne(w.value.left),"--v-layout-right":ne(w.value.right),"--v-layout-top":ne(w.value.top),"--v-layout-bottom":ne(w.value.bottom),...I.value?void 0:{transition:"none"}})),L=A(()=>m.value.slice(1).map((f,V)=>{let{id:g}=f;const{layer:p}=m.value[V],P=i.get(g),E=n.get(g);return{id:g,...p,size:Number(P.value),position:E.value}})),O=f=>L.value.find(V=>V.id===f),B=At("createLayout"),z=se(!1);ze(()=>{z.value=!0}),Bt(Je,{register:(f,V)=>{let{id:g,order:p,position:P,layoutSize:E,elementSize:R,active:q,disableTransitions:T,absolute:F}=V;d.set(g,p),n.set(g,P),i.set(g,E),b.set(g,q),T&&k.set(g,T);const K=Kt(qt,B?.vnode).indexOf(f);K>-1?a.value.splice(K,0,g):a.value.push(g);const W=A(()=>L.value.findIndex(oe=>oe.id===g)),J=A(()=>l.value+m.value.length*2-W.value*2),N=A(()=>{const oe=P.value==="left"||P.value==="right",y=P.value==="right",o=P.value==="bottom",te=R.value??E.value,ue=te===0?"%":"px",r={[P.value]:0,zIndex:J.value,transform:`translate${oe?"X":"Y"}(${(q.value?0:-(te===0?100:te))*(y||o?-1:1)}${ue})`,position:F.value||l.value!==xt?"absolute":"fixed",...I.value?void 0:{transition:"none"}};if(!z.value)return r;const $=L.value[W.value],ye=S.value.get(g);return ye&&($[ye.position]+=ye.amount),{...r,height:oe?`calc(100% - ${$.top}px - ${$.bottom}px)`:R.value?`${R.value}px`:void 0,left:y?void 0:`${$.left}px`,right:y?`${$.right}px`:void 0,top:P.value!=="bottom"?`${$.top}px`:void 0,bottom:P.value!=="top"?`${$.bottom}px`:void 0,width:oe?R.value?`${R.value}px`:void 0:`calc(100% - ${$.left}px - ${$.right}px)`}}),le=A(()=>({zIndex:J.value-1}));return{layoutItemStyles:N,layoutItemScrimStyles:le,zIndex:J}},unregister:f=>{d.delete(f),n.delete(f),i.delete(f),b.delete(f),k.delete(f),a.value=a.value.filter(V=>V!==f)},mainRect:w,mainStyles:C,getLayoutItem:O,items:L,layoutRect:x,rootZIndex:l});const U=ce(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),v=ce(()=>({zIndex:s?l.value:void 0,position:s?"relative":void 0,overflow:s?"hidden":void 0}));return{layoutClasses:U,layoutStyles:v,getLayoutItem:O,items:L,layoutRect:x,layoutRef:h}}let sl=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((s,l)=>(l&=63,l<36?s+=l.toString(36):l<62?s+=(l-26).toString(36).toUpperCase():l>62?s+="-":s+="_",s),"");const ul=Z({...me(),...pe()},"VCardActions"),$e=Q()({name:"VCardActions",props:ul(),setup(e,s){let{slots:l}=s;return et({VBtn:{slim:!0,variant:"text"}}),ee(()=>t(e.tag,{class:ae(["v-card-actions",e.class]),style:fe(e.style)},l)),{}}}),rl=Z({opacity:[Number,String],...me(),...pe()},"VCardSubtitle"),dl=Q()({name:"VCardSubtitle",props:rl(),setup(e,s){let{slots:l}=s;return ee(()=>t(e.tag,{class:ae(["v-card-subtitle",e.class]),style:fe([{"--v-card-subtitle-opacity":e.opacity},e.style])},l)),{}}}),Re=Zt("v-card-title"),cl=Z({appendAvatar:String,appendIcon:Me,prependAvatar:String,prependIcon:Me,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...me(),...Et(),...pe()},"VCardItem"),vl=Q()({name:"VCardItem",props:cl(),setup(e,s){let{slots:l}=s;return ee(()=>{const a=!!(e.prependAvatar||e.prependIcon),n=!!(a||l.prepend),i=!!(e.appendAvatar||e.appendIcon),d=!!(i||l.append),b=!!(e.title!=null||l.title),k=!!(e.subtitle!=null||l.subtitle);return t(e.tag,{class:ae(["v-card-item",e.class]),style:fe(e.style)},{default:()=>[n&&_("div",{key:"prepend",class:"v-card-item__prepend"},[l.prepend?t(he,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},l.prepend):_(ve,null,[e.prependAvatar&&t(rt,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&t(de,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),_("div",{class:"v-card-item__content"},[b&&t(Re,{key:"title"},{default:()=>[l.title?.()??M(e.title)]}),k&&t(dl,{key:"subtitle"},{default:()=>[l.subtitle?.()??M(e.subtitle)]}),l.default?.()]),d&&_("div",{key:"append",class:"v-card-item__append"},[l.append?t(he,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},l.append):_(ve,null,[e.appendIcon&&t(de,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&t(rt,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])]})}),{}}}),fl=Z({opacity:[Number,String],...me(),...pe()},"VCardText"),Fe=Q()({name:"VCardText",props:fl(),setup(e,s){let{slots:l}=s;return ee(()=>t(e.tag,{class:ae(["v-card-text",e.class]),style:fe([{"--v-card-text-opacity":e.opacity},e.style])},l)),{}}}),ml=Z({appendAvatar:String,appendIcon:Me,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Me,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...nt(),...me(),...Et(),...Ft(),...Ue(),...sa(),...ia(),...oa(),...lt(),...na(),...pe(),...Pe(),...la({variant:"elevated"})},"VCard"),Ge=Q()({name:"VCard",directives:{vRipple:dt},props:ml(),setup(e,s){let{attrs:l,slots:a}=s;const{themeClasses:n}=Ie(e),{borderClasses:i}=tt(e),{colorClasses:d,colorStyles:b,variantClasses:k}=Jt(e),{densityClasses:h}=Qt(e),{dimensionStyles:x}=$t(e),{elevationClasses:S}=Oe(e),{loaderClasses:m}=Rt(e),{locationStyles:I}=ea(e),{positionClasses:w}=ta(e),{roundedClasses:C}=at(e),L=aa(e,l),O=se(void 0);return j(()=>e.loading,(B,z)=>{O.value=!B&&typeof z=="string"?z:typeof B=="boolean"?void 0:B},{immediate:!0}),ee(()=>{const B=e.link!==!1&&L.isLink.value,z=!e.disabled&&e.link!==!1&&(e.link||L.isClickable.value),U=B?"a":e.tag,v=!!(a.title||e.title!=null),f=!!(a.subtitle||e.subtitle!=null),V=v||f,g=!!(a.append||e.appendAvatar||e.appendIcon),p=!!(a.prepend||e.prependAvatar||e.prependIcon),P=!!(a.image||e.image),E=V||p||g,R=!!(a.text||e.text!=null);return Ze(t(U,D(L.linkProps,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":z},n.value,i.value,d.value,h.value,S.value,m.value,w.value,C.value,k.value,e.class],style:[b.value,x.value,I.value,e.style],onClick:z&&L.navigate,tabindex:e.disabled?-1:void 0}),{default:()=>[P&&_("div",{key:"image",class:"v-card__image"},[a.image?t(he,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):t(qe,{key:"image-img",cover:!0,src:e.image},null)]),t(Mt,{name:"v-card",active:!!e.loading,color:O.value},{default:a.loader}),E&&t(vl,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),R&&t(Fe,{key:"text"},{default:()=>[a.text?.()??e.text]}),a.default?.(),a.actions&&t($e,null,{default:a.actions}),ua(z,"v-card")]}),[[dt,z&&e.ripple]])}),{}}}),gl=Z({fullscreen:Boolean,scrollable:Boolean,...We(Lt({captureFocus:!0,origin:"center center",scrollStrategy:"block",transition:{component:ra},zIndex:2400,retainFocus:!0}),["disableInitialFocus"])},"VDialog"),je=Q()({name:"VDialog",props:gl(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,s){let{emit:l,slots:a}=s;const n=ke(e,"modelValue"),{scopeId:i}=ot(),d=H();function b(){l("afterEnter"),(e.scrim||e.retainFocus)&&d.value?.contentEl&&!d.value.contentEl.contains(document.activeElement)&&d.value.contentEl.focus({preventScroll:!0})}function k(){l("afterLeave")}return j(n,async h=>{h||(await _e(),d.value.activatorEl?.focus({preventScroll:!0}))}),ee(()=>{const h=Le.filterProps(e),x=D({"aria-haspopup":"dialog"},e.activatorProps),S=D({tabindex:-1},e.contentProps);return t(Le,D({ref:d,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},h,{modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,"aria-modal":"true",activatorProps:x,contentProps:S,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:b,onAfterLeave:k},i),{activator:a.activator,default:function(){for(var m=arguments.length,I=new Array(m),w=0;w<m;w++)I[w]=arguments[w];return t(he,{root:"VDialog"},{default:()=>[a.default?.(...I)]})}})}),Te({},d)}}),hl=Z({...me(),...ca()},"VForm"),Ke=Q()({name:"VForm",props:hl(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,s){let{slots:l,emit:a}=s;const n=da(e),i=H();function d(k){k.preventDefault(),n.reset()}function b(k){const h=k,x=n.validate();h.then=x.then.bind(x),h.catch=x.catch.bind(x),h.finally=x.finally.bind(x),a("submit",h),h.defaultPrevented||x.then(S=>{let{valid:m}=S;m&&i.value?.submit()}),h.preventDefault()}return ee(()=>_("form",{ref:i,class:ae(["v-form",e.class]),style:fe(e.style),novalidate:!0,onReset:d,onSubmit:b},[l.default?.(n)])),Te(n,i)}});function yl(e){let{rootEl:s,isSticky:l,layoutItemStyles:a}=e;const n=se(!1),i=se(0),d=A(()=>{const h=typeof n.value=="boolean"?"top":n.value;return[l.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[h]:ne(i.value)}:{top:a.value.top}]});ze(()=>{j(l,h=>{h?window.addEventListener("scroll",k,{passive:!0}):window.removeEventListener("scroll",k)},{immediate:!0})}),De(()=>{window.removeEventListener("scroll",k)});let b=0;function k(){const h=b>window.scrollY?"up":"down",x=s.value.getBoundingClientRect(),S=parseFloat(a.value.top??0),m=window.scrollY-Math.max(0,i.value-S),I=x.height+Math.max(i.value,S)-window.scrollY-window.innerHeight,w=parseFloat(getComputedStyle(s.value).getPropertyValue("--v-body-scroll-y"))||0;x.height<window.innerHeight-S?(n.value="top",i.value=S):h==="up"&&n.value==="bottom"||h==="down"&&n.value==="top"?(i.value=window.scrollY+x.top-w,n.value=!0):h==="down"&&I<=0?(i.value=0,n.value="bottom"):h==="up"&&m<=0&&(w?n.value!=="top"&&(i.value=-m+w+S,n.value="top"):(i.value=x.top+m,n.value="top")),b=window.scrollY}return{isStuck:n,stickyStyles:d}}const bl=100,pl=20;function Vt(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function wt(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let s=0;for(let l=e.length-1;l>0;l--){if(e[l].t===e[l-1].t)continue;const a=Vt(s),n=(e[l].d-e[l-1].d)/(e[l].t-e[l-1].t);s+=(n-a)*Math.abs(n),l===e.length-1&&(s*=.5)}return Vt(s)*1e3}function _l(){const e={};function s(n){Array.from(n.changedTouches).forEach(i=>{(e[i.identifier]??(e[i.identifier]=new va(pl))).push([n.timeStamp,i])})}function l(n){Array.from(n.changedTouches).forEach(i=>{delete e[i.identifier]})}function a(n){const i=e[n]?.values().reverse();if(!i)throw new Error(`No samples for touch id ${n}`);const d=i[0],b=[],k=[];for(const h of i){if(d[0]-h[0]>bl)break;b.push({t:h[0],d:h[1].clientX}),k.push({t:h[0],d:h[1].clientY})}return{x:wt(b),y:wt(k),get direction(){const{x:h,y:x}=this,[S,m]=[Math.abs(h),Math.abs(x)];return S>m&&h>=0?"right":S>m&&h<=0?"left":m>S&&x>=0?"down":m>S&&x<=0?"up":xl()}}}return{addMovement:s,endTouch:l,getVelocity:a}}function xl(){throw new Error}function Vl(e){let{el:s,isActive:l,isTemporary:a,width:n,touchless:i,position:d}=e;ze(()=>{window.addEventListener("touchstart",B,{passive:!0}),window.addEventListener("touchmove",z,{passive:!1}),window.addEventListener("touchend",U,{passive:!0})}),De(()=>{window.removeEventListener("touchstart",B),window.removeEventListener("touchmove",z),window.removeEventListener("touchend",U)});const b=A(()=>["left","right"].includes(d.value)),{addMovement:k,endTouch:h,getVelocity:x}=_l();let S=!1;const m=se(!1),I=se(0),w=se(0);let C;function L(f,V){return(d.value==="left"?f:d.value==="right"?document.documentElement.clientWidth-f:d.value==="top"?f:d.value==="bottom"?document.documentElement.clientHeight-f:we())-(V?n.value:0)}function O(f){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const g=d.value==="left"?(f-w.value)/n.value:d.value==="right"?(document.documentElement.clientWidth-f-w.value)/n.value:d.value==="top"?(f-w.value)/n.value:d.value==="bottom"?(document.documentElement.clientHeight-f-w.value)/n.value:we();return V?Nt(g):g}function B(f){if(i.value)return;const V=f.changedTouches[0].clientX,g=f.changedTouches[0].clientY,p=25,P=d.value==="left"?V<p:d.value==="right"?V>document.documentElement.clientWidth-p:d.value==="top"?g<p:d.value==="bottom"?g>document.documentElement.clientHeight-p:we(),E=l.value&&(d.value==="left"?V<n.value:d.value==="right"?V>document.documentElement.clientWidth-n.value:d.value==="top"?g<n.value:d.value==="bottom"?g>document.documentElement.clientHeight-n.value:we());(P||E||l.value&&a.value)&&(C=[V,g],w.value=L(b.value?V:g,l.value),I.value=O(b.value?V:g),S=w.value>-20&&w.value<80,h(f),k(f))}function z(f){const V=f.changedTouches[0].clientX,g=f.changedTouches[0].clientY;if(S){if(!f.cancelable){S=!1;return}const P=Math.abs(V-C[0]),E=Math.abs(g-C[1]);(b.value?P>E&&P>3:E>P&&E>3)?(m.value=!0,S=!1):(b.value?E:P)>3&&(S=!1)}if(!m.value)return;f.preventDefault(),k(f);const p=O(b.value?V:g,!1);I.value=Math.max(0,Math.min(1,p)),p>1?w.value=L(b.value?V:g,!0):p<0&&(w.value=L(b.value?V:g,!1))}function U(f){if(S=!1,!m.value)return;k(f),m.value=!1;const V=x(f.changedTouches[0].identifier),g=Math.abs(V.x),p=Math.abs(V.y);(b.value?g>p&&g>400:p>g&&p>3)?l.value=V.direction===({left:"right",right:"left",top:"down",bottom:"up"}[d.value]||we()):l.value=I.value>.5}const v=A(()=>m.value?{transform:d.value==="left"?`translateX(calc(-100% + ${I.value*n.value}px))`:d.value==="right"?`translateX(calc(100% - ${I.value*n.value}px))`:d.value==="top"?`translateY(calc(-100% + ${I.value*n.value}px))`:d.value==="bottom"?`translateY(calc(100% - ${I.value*n.value}px))`:we(),transition:"none"}:void 0);return Ee(m,()=>{const f=s.value?.style.transform??null,V=s.value?.style.transition??null;it(()=>{s.value?.style.setProperty("transform",v.value?.transform||"none"),s.value?.style.setProperty("transition",v.value?.transition||null)}),fa(()=>{s.value?.style.setProperty("transform",f),s.value?.style.setProperty("transition",V)})}),{isDragging:m,dragProgress:I,dragStyles:v}}function we(){throw new Error}const wl=["start","end","left","right","top","bottom"],kl=Z({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>wl.includes(e)},sticky:Boolean,...nt(),...me(),...Va(),...xa({mobile:null}),...Ue(),...ll(),...lt(),...We(wa(),["disableInitialFocus"]),...pe({tag:"nav"}),...Pe()},"VNavigationDrawer"),Sl=Q()({name:"VNavigationDrawer",props:kl(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,s){let{attrs:l,emit:a,slots:n}=s;const{isRtl:i}=st(),{themeClasses:d}=Ie(e),{borderClasses:b}=tt(e),{backgroundColorClasses:k,backgroundColorStyles:h}=Ne(()=>e.color),{elevationClasses:x}=Oe(e),{displayClasses:S,mobile:m}=Ht(e),{roundedClasses:I}=at(e),w=ma(),C=ke(e,"modelValue",null,N=>!!N),{ssrBootStyles:L}=ga(),{scopeId:O}=ot(),B=H(),z=se(!1),{runOpenDelay:U,runCloseDelay:v}=pa(e,N=>{z.value=N}),f=A(()=>e.rail&&e.expandOnHover&&z.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),V=A(()=>ha(e.location,i.value)),g=ce(()=>e.persistent),p=A(()=>!e.permanent&&(m.value||e.temporary)),P=A(()=>e.sticky&&!p.value&&V.value!=="bottom");ya(e,{isActive:C,localTop:p,contentEl:B}),Ee(()=>e.expandOnHover&&e.rail!=null,()=>{j(z,N=>a("update:rail",!N))}),Ee(()=>!e.disableResizeWatcher,()=>{j(p,N=>!e.permanent&&_e(()=>C.value=!N))}),Ee(()=>!e.disableRouteWatcher&&!!w,()=>{j(w.currentRoute,()=>p.value&&(C.value=!1))}),j(()=>e.permanent,N=>{N&&(C.value=!0)}),e.modelValue==null&&!p.value&&(C.value=e.permanent||!m.value);const{isDragging:E,dragProgress:R}=Vl({el:B,isActive:C,isTemporary:p,width:f,touchless:ce(()=>e.touchless),position:V}),q=A(()=>{const N=p.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):f.value;return E.value?N*R.value:N}),{layoutItemStyles:T,layoutItemScrimStyles:F}=nl({id:e.name,order:A(()=>parseInt(e.order,10)),position:V,layoutSize:q,elementSize:f,active:ba(C),disableTransitions:ce(()=>E.value),absolute:A(()=>e.absolute||P.value&&typeof X.value!="string")}),{isStuck:X,stickyStyles:K}=yl({rootEl:B,isSticky:P,layoutItemStyles:T}),W=Ne(()=>typeof e.scrim=="string"?e.scrim:null),J=A(()=>({...E.value?{opacity:R.value*.2,transition:"none"}:void 0,...F.value}));return et({VList:{bgColor:"transparent"}}),ee(()=>{const N=n.image||e.image;return _(ve,null,[t(e.tag,D({ref:B,onMouseenter:U,onMouseleave:v,class:["v-navigation-drawer",`v-navigation-drawer--${V.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":z.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":p.value,"v-navigation-drawer--persistent":g.value,"v-navigation-drawer--active":C.value,"v-navigation-drawer--sticky":P.value},d.value,k.value,b.value,S.value,x.value,I.value,e.class],style:[h.value,T.value,L.value,K.value,e.style],inert:!C.value},O,l),{default:()=>[N&&_("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?t(he,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},n.image):t(qe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),n.prepend&&_("div",{class:"v-navigation-drawer__prepend"},[n.prepend?.()]),_("div",{class:"v-navigation-drawer__content"},[n.default?.()]),n.append&&_("div",{class:"v-navigation-drawer__append"},[n.append?.()])]}),t(_a,{name:"fade-transition"},{default:()=>[p.value&&(E.value||C.value)&&!!e.scrim&&_("div",D({class:["v-navigation-drawer__scrim",W.backgroundColorClasses.value],style:[J.value,W.backgroundColorStyles.value],onClick:()=>{g.value||(C.value=!1)}},O),null)]})])}),{isStuck:X}}}),Cl={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function Il(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return _("div",{class:ae(["v-skeleton-loader__bone",`v-skeleton-loader__${e}`])},[s])}function kt(e){const[s,l]=e.split("@");return Array.from({length:l}).map(()=>Ye(s))}function Ye(e){let s=[];if(!e)return s;const l=Cl[e];if(e!==l){if(e.includes(","))return St(e);if(e.includes("@"))return kt(e);l.includes(",")?s=St(l):l.includes("@")?s=kt(l):l&&s.push(Ye(l))}return[Il(e,s)]}function St(e){return e.replace(/\s/g,"").split(",").map(Ye)}const Pl=Z({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...Ft(),...Ue(),...Pe()},"VSkeletonLoader"),Tl=Q()({name:"VSkeletonLoader",inheritAttrs:!1,props:Pl(),setup(e,s){let{attrs:l,slots:a}=s;const{backgroundColorClasses:n,backgroundColorStyles:i}=Ne(()=>e.color),{dimensionStyles:d}=$t(e),{elevationClasses:b}=Oe(e),{themeClasses:k}=Ie(e),{t:h}=ka(),x=A(()=>Ye(Sa(e.type).join(",")));return ee(()=>{const S=!a.default||e.loading,m=e.boilerplate||!S?{}:{ariaLive:"polite",ariaLabel:h(e.loadingText),role:"alert"};return S?_("div",D({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},k.value,n.value,b.value],style:[i.value,d.value]},m,l),[x.value]):_(ve,null,[a.default?.()])}),{}}}),Al=Z({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Ot(),...Ia()},"VSwitch"),Ct=Q()({name:"VSwitch",inheritAttrs:!1,props:Al(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,s){let{attrs:l,slots:a}=s;const n=ke(e,"indeterminate"),i=ke(e,"modelValue"),{loaderClasses:d}=Rt(e),{isFocused:b,focus:k,blur:h}=Dt(e),x=H(),S=H(),m=Ca&&window.matchMedia("(forced-colors: active)").matches,I=ce(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),w=Qe(),C=ce(()=>e.id||`switch-${w}`);function L(){n.value&&(n.value=!1)}function O(B){B.stopPropagation(),B.preventDefault(),x.value?.input?.click()}return ee(()=>{const[B,z]=zt(l),U=He.filterProps(e),v=ct.filterProps(e);return t(He,D({ref:S,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":n.value},d.value,e.class]},B,U,{modelValue:i.value,"onUpdate:modelValue":f=>i.value=f,id:C.value,focused:b.value,style:e.style}),{...a,default:f=>{let{id:V,messagesId:g,isDisabled:p,isReadonly:P,isValid:E}=f;const R={model:i,isValid:E};return t(ct,D({ref:x},v,{modelValue:i.value,"onUpdate:modelValue":[q=>i.value=q,L],id:V.value,"aria-describedby":g.value,type:"checkbox","aria-checked":n.value?"mixed":void 0,disabled:p.value,readonly:P.value,onFocus:k,onBlur:h},z),{...a,default:q=>{let{backgroundColorClasses:T,backgroundColorStyles:F}=q;return _("div",{class:ae(["v-switch__track",m?void 0:T.value]),style:fe(F.value),onClick:O},[a["track-true"]&&_("div",{key:"prepend",class:"v-switch__track-true"},[a["track-true"](R)]),a["track-false"]&&_("div",{key:"append",class:"v-switch__track-false"},[a["track-false"](R)])])},input:q=>{let{inputNode:T,icon:F,backgroundColorClasses:X,backgroundColorStyles:K}=q;return _(ve,null,[T,_("div",{class:ae(["v-switch__thumb",{"v-switch__thumb--filled":F||e.loading},e.inset||m?void 0:X.value]),style:fe(e.inset?void 0:K.value)},[a.thumb?t(he,{defaults:{VIcon:{icon:F,size:"x-small"}}},{default:()=>[a.thumb({...R,icon:F})]}):t(Pa,null,{default:()=>[e.loading?t(Mt,{name:"v-switch",active:!0,color:E.value===!1?void 0:I.value},{default:W=>a.loader?a.loader(W):t(Ta,{active:W.isActive,color:W.color,indeterminate:!0,size:"16",width:"2"},null)}):F&&t(de,{key:String(F),icon:F,size:"x-small"},null)]})])])}})}})}),Te({},S)}}),Bl=Z({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxHeight:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Ea(),...Ot(),...Ba()},"VTextarea"),It=Q()({name:"VTextarea",directives:{vIntersect:vt},inheritAttrs:!1,props:Bl(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,s){let{attrs:l,emit:a,slots:n}=s;const i=ke(e,"modelValue"),{isFocused:d,focus:b,blur:k}=Dt(e),{onIntersect:h}=Ra(e),x=A(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value||"").toString().length),S=A(()=>{if(l.maxlength)return l.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),m=H(),I=H(),w=se(""),C=H(),L=H(0),{platform:O}=Ht(),B=Aa(e),z=A(()=>e.persistentPlaceholder||d.value||e.active);function U(){B.isSuppressing.value&&B.update(),C.value!==document.activeElement&&C.value?.focus(),d.value||b()}function v(T){U(),a("click:control",T)}function f(T){a("mousedown:control",T)}function V(T){T.stopPropagation(),U(),_e(()=>{i.value="",Ma(e["onClick:clear"],T)})}function g(T){const F=T.target;if(!e.modelModifiers?.trim){i.value=F.value;return}const X=F.value,K=F.selectionStart,W=F.selectionEnd;i.value=X,_e(()=>{let J=0;X.trimStart().length===F.value.length&&(J=X.length-F.value.length),K!=null&&(F.selectionStart=K-J),W!=null&&(F.selectionEnd=W-J)})}const p=H(),P=H(Number(e.rows)),E=A(()=>["plain","underlined"].includes(e.variant));it(()=>{e.autoGrow||(P.value=Number(e.rows))});function R(){_e(()=>{if(!C.value)return;if(O.value.firefox){L.value=12;return}const{offsetWidth:T,clientWidth:F}=C.value;L.value=Math.max(0,T-F)}),e.autoGrow&&_e(()=>{if(!p.value||!I.value)return;const T=getComputedStyle(p.value),F=getComputedStyle(I.value.$el),X=parseFloat(T.getPropertyValue("--v-field-padding-top"))+parseFloat(T.getPropertyValue("--v-input-padding-top"))+parseFloat(T.getPropertyValue("--v-field-padding-bottom")),K=p.value.scrollHeight,W=parseFloat(T.lineHeight),J=Math.max(parseFloat(e.rows)*W+X,parseFloat(F.getPropertyValue("--v-input-control-height"))),N=e.maxHeight?parseFloat(e.maxHeight):parseFloat(e.maxRows)*W+X||1/0,le=Nt(K??0,J,N);P.value=Math.floor((le-X)/W),w.value=ne(le)})}ze(R),j(i,R),j(()=>e.rows,R),j(()=>e.maxHeight,R),j(()=>e.maxRows,R),j(()=>e.density,R),j(P,T=>{a("update:rows",T)});let q;return j(p,T=>{T?(q=new ResizeObserver(R),q.observe(p.value)):q?.disconnect()}),De(()=>{q?.disconnect()}),ee(()=>{const T=!!(n.counter||e.counter||e.counterValue),F=!!(T||n.details),[X,K]=zt(l),{modelValue:W,...J}=He.filterProps(e),N={...ft.filterProps(e),"onClick:clear":V};return t(He,D({ref:m,modelValue:i.value,"onUpdate:modelValue":le=>i.value=le,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":E.value},e.class],style:[{"--v-textarea-max-height":e.maxHeight?ne(e.maxHeight):void 0,"--v-textarea-scroll-bar-width":ne(L.value)},e.style]},X,J,{centerAffix:P.value===1&&!E.value,focused:d.value}),{...n,default:le=>{let{id:oe,isDisabled:y,isDirty:o,isReadonly:te,isValid:ue,hasDetails:r}=le;return t(ft,D({ref:I,style:{"--v-textarea-control-height":w.value},onClick:v,onMousedown:f,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},N,{id:oe.value,active:z.value||o.value,labelId:`${oe.value}-label`,centerAffix:P.value===1&&!E.value,dirty:o.value||e.dirty,disabled:y.value,focused:d.value,details:r.value,error:ue.value===!1}),{...n,default:$=>{let{props:{class:ye,...ut},controlRef:Yt}=$;return _(ve,null,[e.prefix&&_("span",{class:"v-text-field__prefix"},[e.prefix]),Ze(_("textarea",D({ref:Xe=>C.value=Yt.value=Xe,class:ye,value:i.value,onInput:g,autofocus:e.autofocus,readonly:te.value,disabled:y.value,placeholder:e.placeholder,rows:e.rows,name:B.fieldName.value,autocomplete:B.fieldAutocomplete.value,onFocus:U,onBlur:k,"aria-labelledby":`${oe.value}-label`},ut,K),null),[[vt,{handler:h},null,{once:!0}]]),e.autoGrow&&Ze(_("textarea",{class:ae([ye,"v-textarea__sizer"]),id:`${ut.id}-sizer`,"onUpdate:modelValue":Xe=>i.value=Xe,ref:p,readonly:!0,"aria-hidden":"true"},null),[[Fa,i.value]]),e.suffix&&_("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:F?le=>_(ve,null,[n.details?.(le),T&&_(ve,null,[_("span",null,null),t($a,{active:e.persistentCounter||d.value,value:x.value,max:S.value,disabled:e.disabled},n.counter)])]):void 0})}),Te({},m,I,C)}}),El=Z({text:String,...me(),...pe()},"VToolbarTitle"),$l=Q()({name:"VToolbarTitle",props:El(),setup(e,s){let{slots:l}=s;return ee(()=>{const a=!!(l.default||l.text||e.text);return t(e.tag,{class:ae(["v-toolbar-title",e.class]),style:fe(e.style)},{default:()=>[a&&_("div",{class:"v-toolbar-title__placeholder"},[l.text?l.text():e.text,l.default?.()])]})}),{}}}),Rl=[null,"prominent","default","comfortable","compact"],Fl=Z({absolute:Boolean,collapse:Boolean,collapsePosition:{type:String,default:"start"},color:String,density:{type:String,default:"default",validator:e=>Rl.includes(e)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...nt(),...me(),...Ue(),...lt(),...pe({tag:"header"}),...Pe()},"VToolbar"),Pt=Q()({name:"VToolbar",props:Fl(),setup(e,s){let{slots:l}=s;const{backgroundColorClasses:a,backgroundColorStyles:n}=Ne(()=>e.color),{borderClasses:i}=tt(e),{elevationClasses:d}=Oe(e),{roundedClasses:b}=at(e),{themeClasses:k}=Ie(e),{rtlClasses:h}=st(),x=se(e.extended===null?!!l.extension?.():e.extended),S=A(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),m=A(()=>x.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return et({VBtn:{variant:"text"}}),ee(()=>{const I=!!(e.title||l.title),w=!!(l.image||e.image),C=l.extension?.();return x.value=e.extended===null?!!C:e.extended,t(e.tag,{class:ae(["v-toolbar",`v-toolbar--collapse-${e.collapsePosition}`,{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},a.value,i.value,d.value,b.value,k.value,h.value,e.class]),style:fe([n.value,e.style])},{default:()=>[w&&_("div",{key:"image",class:"v-toolbar__image"},[l.image?t(he,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},l.image):t(qe,{key:"image-img",cover:!0,src:e.image},null)]),t(he,{defaults:{VTabs:{height:ne(S.value)}}},{default:()=>[_("div",{class:"v-toolbar__content",style:{height:ne(S.value)}},[l.prepend&&_("div",{class:"v-toolbar__prepend"},[l.prepend?.()]),I&&t($l,{key:"title",text:e.title},{text:l.title}),l.default?.(),l.append&&_("div",{class:"v-toolbar__append"},[l.append?.()])])]}),t(he,{defaults:{VTabs:{height:ne(m.value)}}},{default:()=>[t(La,null,{default:()=>[x.value&&_("div",{class:"v-toolbar__extension",style:{height:ne(m.value)}},[C])]})]})]})}),{contentHeight:S,extensionHeight:m}}}),Ml=Z({id:String,interactive:Boolean,text:String,...We(Lt({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","retainFocus","captureFocus","disableInitialFocus"])},"VTooltip"),re=Q()({name:"VTooltip",props:Ml(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:l}=s;const a=ke(e,"modelValue"),{scopeId:n}=ot(),i=Qe(),d=ce(()=>e.id||`v-tooltip-${i}`),b=H(),k=A(()=>e.location.split(" ").length>1?e.location:e.location+" center"),h=A(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),x=ce(()=>e.transition!=null?e.transition:a.value?"scale-transition":"fade-transition"),S=A(()=>D({"aria-describedby":d.value},e.activatorProps));return ee(()=>{const m=Le.filterProps(e);return t(Le,D({ref:b,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:d.value},m,{modelValue:a.value,"onUpdate:modelValue":I=>a.value=I,transition:x.value,absolute:!0,location:k.value,origin:h.value,role:"tooltip",activatorProps:S.value,_disableGlobalStack:!0},n),{activator:l.activator,default:function(){for(var I=arguments.length,w=new Array(I),C=0;C<I;C++)w[C]=arguments[C];return l.default?.(...w)??e.text}})}),Te({},b)}}),Ll={id:"sheet-editor"},Nl={class:"mb-5 pa-9",key:"no_units",style:{border:"4px dashed #e7e7e7"}},Hl={class:"text-h6 text-disabled"},Dl={class:"text-disabled"},zl={class:"text-h4 my-4"},Ol={key:0},Ul={key:1,class:"font-italic"},ql={key:0,class:"body-2 mb-4 pre-line"},Wl=Ut({__name:"SheetEditor",props:{sheet:{required:!0},sheetModifiers:{}},emits:Na(["save"],["update:sheet"]),setup(e,{expose:s,emit:l}){const{t:a}=Ha(),n=Da(),i=za(e,"sheet"),d=Za(),b=Ce("unit_description"),k=Ce("add_pair_form"),h=Ce("insert_video_form"),x=Ce("new_gap_form"),S=Ce("unit"),m=H([]),I=H(!1),w=H(!1),C=H(""),L=H(""),O=H(!1),B=H(""),z=H(!1);H(!1),H(!1);const U=H({show:!1}),v=H({index:void 0,data:{description:"",code:""}}),f=A(()=>[{value:"default",title:a("sheet_editor.types.default")},{value:"open_answer",title:a("sheet_editor.types.open_answer")},{value:"multiple_choice",title:a("sheet_editor.types.multiple_choice")},{value:"pairing",title:a("sheet_editor.types.pairing")}]),V=[{name:a("sheet_editor.snippets.blank_unit.name"),img:"blank.svg",unit:{type:"default",code:""}},{name:a("sheet_editor.snippets.gap_filling_dropdown.name"),img:"fill_gap_dropdown.svg",unit:{type:"default",code:a("sheet_editor.snippets.gap_filling_dropdown.code")}},{name:a("sheet_editor.snippets.gap_filling_open_answer.name"),img:"fill_gap_open.svg",unit:{type:"open_answer",code:a("sheet_editor.snippets.gap_filling_open_answer.code")}},{name:a("sheet_editor.snippets.multiple_choice.name"),img:"choice.svg",unit:{type:"multiple_choice",code:a("sheet_editor.snippets.multiple_choice.code")}},{name:a("sheet_editor.snippets.pairing_text_with_text.name"),img:"match_text.svg",unit:{type:"pairing",code:a("sheet_editor.snippets.pairing_text_with_text.code")}},{name:a("sheet_editor.snippets.questions_about_a_text_multiple_choice.name"),img:"choice_paragraph.svg",unit:{type:"multiple_choice",description:a("sheet_editor.snippets.questions_about_a_text_multiple_choice.description"),code:a("sheet_editor.snippets.questions_about_a_text_multiple_choice.code")}},{name:a("sheet_editor.snippets.questions_about_a_video_open_answer.name"),img:"open_video.svg",unit:{type:"open_answer",description:a("sheet_editor.snippets.questions_about_a_video_open_answer.description"),code:a("sheet_editor.snippets.questions_about_a_video_open_answer.code")}}],g=()=>document.querySelector('[name="textarea-input"]'),p=y=>`/snippet_thumb/${y.img}`,P=()=>{const y=g();if(!y)return;const o=v.value.data.code?.trimEnd()||"";o!==""&&v.value.data.code!==void 0&&(v.value.data.code=o+`

`),requestAnimationFrame(()=>{v.value.data.code&&(y.selectionStart=v.value.data.code.length,y.focus())})},E=y=>{I.value=y},R=async()=>{(await x.value?.validate()).valid&&q()},q=()=>{const y="["+m.value.map(o=>o.right?"+"+o.value:o.value).join("|")+"]";X(y),I.value=!1,m.value=[]},T=()=>{const y=g();if(!k.value?.validate()||!y)return;let o=v.value.data.code?.trimEnd()||"";o!==""&&(o+=`

`),o+=`${C.value} == ${L.value}`,v.value.data&&(v.value.data.code=o),requestAnimationFrame(()=>{v.value.data.code&&(y.selectionStart=v.value.data.code.length,y.focus())}),w.value=!1},F=()=>{h.value?.validate()&&(X(`{video:${B.value}}`),O.value=!1)},X=y=>{const o=g();if(!o)return;const te=o.selectionStart,ue=v.value.data.code||"";v.value.data.code=ue.slice(0,o.selectionStart)+y+ue.slice(o.selectionEnd),requestAnimationFrame(()=>{o.selectionStart=te+y.length,o.selectionEnd=te+y.length,o.focus()})},K=(y,o)=>("_key"in y[o]&&y[o]._key||(y[o]._key=sl()),y[o]._key),W=y=>{if(v.value.index===void 0)return;const o=v.value.index,te=o+y,ue=i[o];i[o]=i[te],i[te]=ue,N(te)},J=()=>{if(v.value.index!==void 0){if(i.value.splice(v.value.index,1),i.value.length===0){U.value.show=!1;return}N(Math.min(v.value.index,i.value.length-1))}},N=y=>{v.value.index=y,U.value.show=!0,v.value.data=i.value[y],_e(()=>{const o=document.querySelector(`[data-section-key="${K(i.value,y)}"]`);n(o,{offset:-64})})},le=y=>{const o={type:"default",title:"",code:""};i.value.push({...o,...y}),N(i.value.length-1)},oe=()=>{E(!1),m.value=[]};return j(I,y=>{y?m.value=[]:requestAnimationFrame(()=>{g().focus()})}),j(w,y=>{y?(C.value="",L.value=""):(k.value?.resetValidation(),requestAnimationFrame(()=>{g().focus()}))}),j(O,y=>{y?B.value="":(h.value?.resetValidation(),requestAnimationFrame(()=>{g().focus()}))}),j(()=>U.value.show,y=>{y===!1&&(v.value.index=void 0)}),s({unit_description:b,add_pair_form:k,insert_video_form:h,new_gap_form:x,unit:S}),(y,o)=>{const te=Oa("OptionsSelector"),ue=ja;return ie(),ge("div",Ll,[i.value&&c(U).show?(ie(),mt(Sl,{key:0,id:"editor-drawer",location:y.$vuetify.display.mobile?"bottom":"right",permanent:"",width:"0"},{prepend:u(()=>[t(Pt,{density:"compact",flat:""},{default:u(()=>[t(re,{location:"bottom"},{activator:u(({props:r})=>[t(G,D(r,{onClick:o[0]||(o[0]=$=>N(c(v).index-1)),disabled:c(v).index===0,icon:"mdi-chevron-up"}),null,16,["disabled"])]),default:u(()=>[_("span",null,M(c(a)("sheet_editor.edit_previous")),1)]),_:1}),t(re,{location:"bottom"},{activator:u(({props:r})=>[t(G,D(r,{onClick:o[1]||(o[1]=$=>N(c(v).index+1)),disabled:c(v).index===i.value.length-1,icon:"mdi-chevron-down"}),null,16,["disabled"])]),default:u(()=>[_("span",null,M(c(a)("sheet_editor.edit_next")),1)]),_:1}),t(bt,{vertical:"",class:"mx-2"}),t(re,{location:"bottom"},{activator:u(({props:r})=>[t(G,D(r,{onClick:J,icon:"mdi-delete"}),null,16)]),default:u(()=>[_("span",null,M(c(a)("sheet_editor.delete")),1)]),_:1}),t(re,{location:"bottom"},{activator:u(({props:r})=>[t(G,D(r,{onClick:o[2]||(o[2]=$=>W(-1)),disabled:c(v).index===0,icon:"mdi-transfer-up"}),null,16,["disabled"])]),default:u(()=>[_("span",null,M(c(a)("sheet_editor.move_up")),1)]),_:1}),t(re,{location:"bottom"},{activator:u(({props:r})=>[t(G,D(r,{onClick:o[3]||(o[3]=$=>W(1)),disabled:c(v).index===i.value.length-1,icon:"mdi-transfer-down"}),null,16,["disabled"])]),default:u(()=>[_("span",null,M(c(a)("sheet_editor.move_down")),1)]),_:1}),t(Be),t(re,{location:"left"},{activator:u(({props:r})=>[t(G,D(r,{onClick:o[4]||(o[4]=$=>c(U).show=!1),icon:"mdi-close"}),null,16)]),default:u(()=>[_("span",null,M(c(a)("sheet_editor.close")),1)]),_:1})]),_:1})]),default:u(()=>[t(gt,{class:"mt-2"},{default:u(()=>[t(Ua,{variant:"outlined",density:"compact",label:"Type",items:c(f),modelValue:c(v).data.type,"onUpdate:modelValue":o[5]||(o[5]=r=>c(v).data.type=r)},null,8,["items","modelValue"]),t(Ae,{modelValue:c(v).data.title,"onUpdate:modelValue":o[6]||(o[6]=r=>c(v).data.title=r),label:c(a)("sheet_editor.title"),variant:"outlined"},null,8,["modelValue","label"]),t(It,{modelValue:c(v).data.description,"onUpdate:modelValue":o[7]||(o[7]=r=>c(v).data.description=r),ref_key:"unit_description",ref:b,id:"unit_description",rows:"1","auto-grow":"",label:c(a)("editor.description"),variant:"outlined",loading:c(z)},{append:u(()=>[t(ht,{location:"bottom end"},{activator:u(({props:r})=>[t(de,D(r,{disabled:c(z)}),{default:u(()=>[...o[24]||(o[24]=[Y(" mdi-dots-vertical z ",-1)])]),_:1},16,["disabled"])]),default:u(()=>[t(yt,null,{default:u(()=>[xe("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","label","loading"]),t(Pt,{density:"compact",flat:"",color:"grey-lighten-4",class:"rounded-b-0 rounded-t-lg"},{default:u(()=>[t(re,{location:"bottom"},{activator:u(({props:r})=>[t(G,D(r,{icon:"",onClick:P}),{default:u(()=>[t(de,null,{default:u(()=>[...o[25]||(o[25]=[Y("mdi-playlist-plus",-1)])]),_:1})]),_:1},16)]),default:u(()=>[_("span",null,M(c(a)("sheet_editor.add_sentence")),1)]),_:1}),t(re,{location:"bottom"},{activator:u(({props:r})=>[t(G,D(r,{icon:"",onClick:o[8]||(o[8]=Ve($=>E(!0),["stop"])),disabled:c(v).data.type==="pairing"}),{default:u(()=>[t(de,null,{default:u(()=>[...o[26]||(o[26]=[Y("mdi-tray-plus",-1)])]),_:1})]),_:1},16,["disabled"])]),default:u(()=>[_("span",null,M(c(a)("sheet_editor.insert_gap")),1)]),_:1}),t(re,{location:"bottom"},{activator:u(({props:r})=>[t(G,D(r,{icon:"",onClick:o[9]||(o[9]=$=>w.value=!0),disabled:c(v).data.type!=="pairing"}),{default:u(()=>[t(de,null,{default:u(()=>[...o[27]||(o[27]=[Y("mdi-equal",-1)])]),_:1})]),_:1},16,["disabled"])]),default:u(()=>[_("span",null,M(c(a)("sheet_editor.add_matching_pair")),1)]),_:1}),t(je,{modelValue:c(w),"onUpdate:modelValue":o[13]||(o[13]=r=>be(w)?w.value=r:null),"max-width":"750"},{default:u(()=>[t(Ge,null,{default:u(()=>[t(Ke,{ref_key:"add_pair_form",ref:k,onSubmit:Ve(T,["prevent"])},{default:u(()=>[t(Re,null,{default:u(()=>[Y(M(c(a)("sheet_editor.new_matching_pair")),1)]),_:1}),t(Fe,null,{default:u(()=>[t(Ae,{modelValue:c(C),"onUpdate:modelValue":o[10]||(o[10]=r=>be(C)?C.value=r:null),variant:"underlined",autofocus:"",label:c(a)("sheet_editor.first_item"),rules:[r=>r?!0:"Please type some text"]},null,8,["modelValue","label","rules"]),t(Ae,{modelValue:c(L),"onUpdate:modelValue":o[11]||(o[11]=r=>be(L)?L.value=r:null),variant:"underlined",label:c(a)("sheet_editor.second_item"),rules:[r=>r?!0:"Please type some text"]},null,8,["modelValue","label","rules"])]),_:1}),t($e,null,{default:u(()=>[t(Be),t(G,{color:"primary",type:"submit"},{default:u(()=>[Y(M(c(a)("sheet_editor.insert_pair")),1)]),_:1}),t(G,{variant:"text",onClick:o[12]||(o[12]=r=>w.value=!1)},{default:u(()=>[Y(M(c(a)("main.cancel")),1)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),t(bt,{vertical:"",inset:"",class:"mx-2"}),t(re,{location:"bottom"},{activator:u(({props:r})=>[t(G,D(r,{icon:"",onClick:o[14]||(o[14]=$=>O.value=!0),disabled:c(v).data.type!=="pairing"}),{default:u(()=>[t(de,null,{default:u(()=>[...o[28]||(o[28]=[Y("mdi-movie",-1)])]),_:1})]),_:1},16,["disabled"])]),default:u(()=>[_("span",null,M(c(a)("sheet_editor.insert_video")),1)]),_:1}),t(je,{modelValue:c(O),"onUpdate:modelValue":o[17]||(o[17]=r=>be(O)?O.value=r:null),"max-width":"750"},{default:u(()=>[t(Ge,null,{default:u(()=>[t(Ke,{onSubmit:Ve(F,["prevent"]),ref_key:"insert_video_form",ref:h},{default:u(()=>[t(Re,null,{default:u(()=>[Y(M(c(a)("sheet_editor.insert_video")),1)]),_:1}),t(Fe,null,{default:u(()=>[t(Ae,{modelValue:c(B),"onUpdate:modelValue":o[15]||(o[15]=r=>be(B)?B.value=r:null),autofocus:"",label:"Video URL",rules:[r=>/^https?:/i.test(r)?!0:c(a)("sheet_editor.valid_url")]},null,8,["modelValue","rules"])]),_:1}),t($e,null,{default:u(()=>[t(Be),t(G,{color:"primary",type:"submit"},{default:u(()=>[Y(M(c(a)("sheet_editor.insert_video")),1)]),_:1}),t(G,{variant:"text",onClick:o[16]||(o[16]=r=>O.value=!1)},{default:u(()=>[Y(M(c(a)("main.cancel")),1)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),t(je,{modelValue:c(I),"onUpdate:modelValue":o[20]||(o[20]=r=>be(I)?I.value=r:null),"max-width":"750"},{default:u(()=>[t(Ge,null,{default:u(()=>[t(Ke,{ref_key:"new_gap_form",ref:x,onSubmit:Ve(R,["prevent"]),onKeydown:qa(Ve(()=>{},["prevent"]),["enter"])},{default:u(()=>[t(Re,null,{default:u(()=>[Y(M(c(a)("sheet_editor.new_gap")),1)]),_:1}),t(Fe,null,{default:u(()=>[t(te,{modelValue:c(m),"onUpdate:modelValue":[o[18]||(o[18]=r=>be(m)?m.value=r:null),o[19]||(o[19]=r=>c(x)?.resetValidation())],firstchecked:"",rules:[()=>c(m).length===0?y.$t("sheet_editor.add_option_validation"):!0],autofocus:""},null,8,["modelValue","rules"])]),_:1}),t($e,null,{default:u(()=>[t(Be),t(G,{variant:"text",onClick:oe},{default:u(()=>[Y(M(c(a)("main.cancel")),1)]),_:1}),t(G,{color:"primary",variant:"elevated",onClick:Ve(R,["prevent"])},{default:u(()=>[Y(M(c(a)("sheet_editor.insert_gap")),1)]),_:1})]),_:1})]),_:1},8,["onKeydown"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(It,{placeholder:c(a)("sheet_editor.start_typing"),name:"textarea-input",ref:"textarea",modelValue:c(v).data.code,"onUpdate:modelValue":o[21]||(o[21]=r=>c(v).data.code=r),"auto-grow":"",variant:"outlined","hide-details":"auto",class:"code rounded-t-0 rounded-b-md"},null,8,["placeholder","modelValue"]),t(Ct,{modelValue:c(v).data.shuffle,"onUpdate:modelValue":o[22]||(o[22]=r=>c(v).data.shuffle=r),disabled:c(v).data.type==="open_answer",label:c(a)("sheet_editor.shuffle_options"),"prepend-icon":"mdi-shuffle",class:"mt-6 mb-0"},null,8,["modelValue","disabled","label"]),t(Ct,{modelValue:c(v).data.ignore_case,"onUpdate:modelValue":o[23]||(o[23]=r=>c(v).data.ignore_case=r),disabled:c(v).data.type!=="open_answer",label:c(a)("sheet_editor.ignore_case"),"prepend-icon":"mdi-case-sensitive-alt",class:"mt-0"},null,8,["modelValue","disabled","label"])]),_:1})]),_:1},8,["location"])):xe("",!0),t(gt,{id:"current-sheet",class:ae(c(U).show?["edition","ms-0"]:void 0)},{default:u(()=>[i.value?.length==0?(ie(),ge("div",Nl,[_("div",Hl,M(c(a)("sheet_editor.empty_exercise")),1),_("span",Dl,M(c(a)("sheet_editor.add_unit_to_begin")),1)])):xe("",!0),t(Wa,{direction:"vertical"},{default:u(()=>[(ie(!0),ge(ve,null,pt(i.value,(r,$)=>(ie(),ge("div",{key:K(i.value,$)},[t(Xa,{elevation:$==c(v).index?2:0,"data-section-key":K(i.value,$),class:"mt-1 mb-4 mx-2 transition-swing",rounded:""},{default:u(()=>[t(Ga,{"no-gutters":""},{default:u(()=>[t(_t,{class:"flex-grow-0"},{default:u(()=>[t(G,{size:"x-small",depressed:"",onClick:ye=>$!=c(v).index?N($):c(U).show=!1,color:$!=c(v).index?void 0:"primary",class:"rounded-te-0 rounded-be-0",style:{height:"100%","font-size":"1em"}},{default:u(()=>[t(de,null,{default:u(()=>[Y(M($!=c(v).index?"mdi-pencil":"mdi-check-bold"),1)]),_:2},1024)]),_:2},1032,["onClick","color"])]),_:2},1024),t(_t,{class:"ms-4"},{default:u(()=>[_("div",zl,[i.value.length>1?(ie(),ge("span",Ol,M($+1)+".",1)):xe("",!0),Y(" "+M(r.title)+" ",1),r.title===""?(ie(),ge("span",Ul,M(y.$t("sheet_editor.untitled_unit")),1)):xe("",!0)]),r.description?(ie(),ge("div",ql,[t(ue,{text:r.description},null,8,["text"])])):xe("",!0),(ie(),mt(Ka(c(d)(r.type)),{code:r.code,shuffle:r.shuffle||!1,ignore_case:r.ignore_case,silent:!0,ref_for:!0,ref_key:"unit",ref:S},null,8,["code","shuffle","ignore_case"]))]),_:2},1024)]),_:2},1024)]),_:2},1032,["elevation","data-section-key"])]))),128))]),_:1}),t(ht,{"offset-y":""},{activator:u(({props:r})=>[t(G,D({class:"mt-3",variant:"tonal"},r),{default:u(()=>[t(de,{class:"me-2"},{default:u(()=>[...o[29]||(o[29]=[Y("mdi-plus",-1)])]),_:1}),Y(" "+M(y.$t("sheet_editor.add_unit")),1)]),_:1},16)]),default:u(()=>[t(yt,null,{default:u(()=>[(ie(),ge(ve,null,pt(V,(r,$)=>t(Ya,{key:$,onClick:ye=>le(r.unit)},{prepend:u(()=>[t(qe,{width:"80",height:"60",contain:"",src:p(r)},{placeholder:u(()=>[t(Tl,{type:"image",height:"60"})]),_:1},8,["src"])]),default:u(()=>[t(Ja,null,{default:u(()=>[Y(M(r.name),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})]),_:1},8,["class"])])}}}),Yl=Qa(Wl,[["__scopeId","data-v-3135c5ec"]]),Xl=Z({...me(),...We(al(),["fullHeight"]),...Pe()},"VApp"),Gl=Q()({name:"VApp",props:Xl(),setup(e,s){let{slots:l}=s;const a=Ie(e),{layoutClasses:n,getLayoutItem:i,items:d,layoutRef:b}=il({...e,fullHeight:!0}),{rtlClasses:k}=st();return ee(()=>_("div",{ref:b,class:ae(["v-application",a.themeClasses.value,n.value,k.value,e.class]),style:fe([e.style])},[_("div",{class:"v-application__wrap"},[l.default?.()])])),{getLayoutItem:i,items:d,theme:a}}}),jl={id:"exercise-editor"},Kl=Ut({__name:"Editor",setup(e){const s=document.getElementById("id_data"),l=s.value==="{}"?{sheet:[]}:JSON.parse(s.value),a=H(l.sheet);return it(()=>{const n=l;n.sheet=a.value,s.value=JSON.stringify(n)}),(n,i)=>{const d=Yl;return ie(),ge("div",jl,[t(Gl,null,{default:u(()=>[t(d,{sheet:c(a),"onUpdate:sheet":i[0]||(i[0]=b=>be(a)?a.value=b:null),ref:"sheet_editor",class:"mt-8",onSave:n.save},null,8,["sheet","onSave"])]),_:1})])}}}),Wt=el(Kl);tl(Wt);Wt.mount("#mount-editor");
