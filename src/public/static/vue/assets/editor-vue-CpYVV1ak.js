import{q as G,s as $t,v as lt,x as Et,y as ce,z as la,A as na,B as T,C as Oe,r as D,D as Ce,E as oa,G as ge,H as se,I as Ue,J as Rt,K as ia,L as Q,M as ee,e as a,N as ve,O as ae,P as pe,Q as me,R as we,S as Lt,T as Mt,U as nt,W as H,X as He,Y as Te,Z as qe,$ as Ft,a0 as sa,a1 as Ht,a2 as Nt,a3 as ua,d as ot,a4 as Dt,a5 as zt,c as oe,o as j,F as ue,a6 as Ae,a7 as Ot,u as d,a8 as _e,a9 as he,w as r,aa as Se,m as q,a as xe,ab as ne,ac as et,h as tt,ad as Ut,ae as X,t as R,af as ra,ag as it,ah as da,j as V,ai as ft,aj as ye,ak as qt,al as Ne,am as gt,an as Be,ao as st,ap as ca,aq as va,ar as Wt,as as We,at as Yt,au as ma,av as fa,aw as ut,ax as ga,ay as Z,az as ha,aA as $e,aB as ya,aC as rt,aD as pa,aE as ba,aF as _a,aG as Ye,aH as jt,aI as dt,aJ as xa,aK as je,aL as Xt,aM as Va,aN as Ve,aO as wa,aP as ka,aQ as Sa,aR as Re,aS as Gt,aT as ct,aU as Ca,aV as vt,aW as De,aX as Kt,aY as Ia,aZ as Pa,a_ as Aa,a$ as Ta,b0 as Ba,b1 as $a,b2 as Ea,b3 as Ra,b4 as La,b5 as Ma,b6 as Zt,b7 as Fa,b8 as Jt,b9 as ze,ba as ht,bb as Ha,bc as Qt,bd as Na,g as Da,be as yt,bf as za,bg as pt,bh as Oa,bi as Ua,bj as qa,bk as Wa,bl as Ya,bm as ja,bn as Xa,bo as Ga,bp as Ka,bq as Ie,b as Pe,V as bt,br as Za,bs as _t,f as Ee,bt as xt,bu as Ja,i as Qa,bv as el,bw as Vt,_ as tl,k as al,l as ll,bx as nl,by as ol,n as il,p as sl}from"./modulepreload-polyfill-BohzRaRJ.js";const at=Symbol.for("vuetify:layout"),ea=Symbol.for("vuetify:layout-item"),wt=1e3,ul=G({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),rl=G({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function dl(e){const i=$t(at);if(!i)throw new Error("[Vuetify] Could not find injected layout");const l=e.id??`layout-item-${lt()}`,t=Et("useLayoutItem");Rt(ea,{id:l});const n=ce(!1);la(()=>n.value=!0),na(()=>n.value=!1);const{layoutItemStyles:o,layoutItemScrimStyles:s}=i.register(t,{...e,active:T(()=>n.value?!1:e.active.value),id:l});return Oe(()=>i.unregister(l)),{layoutItemStyles:o,layoutRect:i.layoutRect,layoutItemScrimStyles:s}}const cl=(e,i,l,t)=>{let n={top:0,left:0,right:0,bottom:0};const o=[{id:"",layer:{...n}}];for(const s of e){const v=i.get(s),_=l.get(s),m=t.get(s);if(!v||!_||!m)continue;const p={...n,[v.value]:parseInt(n[v.value],10)+(m.value?parseInt(_.value,10):0)};o.push({id:s,layer:p}),n=p}return o};function vl(e){const i=$t(at,null),l=T(()=>i?i.rootZIndex.value-100:wt),t=D([]),n=Ce(new Map),o=Ce(new Map),s=Ce(new Map),v=Ce(new Map),_=Ce(new Map),{resizeRef:m,contentRect:p}=oa(),S=T(()=>{const g=new Map,w=e.overlaps??[];for(const y of w.filter(x=>x.includes(":"))){const[x,P]=y.split(":");if(!t.value.includes(x)||!t.value.includes(P))continue;const $=n.get(x),L=n.get(P),W=o.get(x),A=o.get(P);!$||!L||!W||!A||(g.set(P,{position:$.value,amount:parseInt(W.value,10)}),g.set(x,{position:L.value,amount:-parseInt(A.value,10)}))}return g}),h=T(()=>{const g=[...new Set([...s.values()].map(y=>y.value))].sort((y,x)=>y-x),w=[];for(const y of g){const x=t.value.filter(P=>s.get(P)?.value===y);w.push(...x)}return cl(w,n,o,v)}),I=T(()=>!Array.from(_.values()).some(g=>g.value)),k=T(()=>h.value[h.value.length-1].layer),C=ge(()=>({"--v-layout-left":se(k.value.left),"--v-layout-right":se(k.value.right),"--v-layout-top":se(k.value.top),"--v-layout-bottom":se(k.value.bottom),...I.value?void 0:{transition:"none"}})),F=T(()=>h.value.slice(1).map((g,w)=>{let{id:y}=g;const{layer:x}=h.value[w],P=o.get(y),$=n.get(y);return{id:y,...x,size:Number(P.value),position:$.value}})),O=g=>F.value.find(w=>w.id===g),B=Et("createLayout"),z=ce(!1);Ue(()=>{z.value=!0}),Rt(at,{register:(g,w)=>{let{id:y,order:x,position:P,layoutSize:$,elementSize:L,active:W,disableTransitions:A,absolute:M}=w;s.set(y,x),n.set(y,P),o.set(y,$),v.set(y,W),A&&_.set(y,A);const J=ia(ea,B?.vnode).indexOf(g);J>-1?t.value.splice(J,0,y):t.value.push(y);const Y=T(()=>F.value.findIndex(re=>re.id===y)),te=T(()=>l.value+h.value.length*2-Y.value*2),N=T(()=>{const re=P.value==="left"||P.value==="right",b=P.value==="right",u=P.value==="bottom",le=L.value??$.value,fe=le===0?"%":"px",c={[P.value]:0,zIndex:te.value,transform:`translate${re?"X":"Y"}(${(W.value?0:-(le===0?100:le))*(b||u?-1:1)}${fe})`,position:M.value||l.value!==wt?"absolute":"fixed",...I.value?void 0:{transition:"none"}};if(!z.value)return c;const E=F.value[Y.value],be=S.value.get(y);return be&&(E[be.position]+=be.amount),{...c,height:re?`calc(100% - ${E.top}px - ${E.bottom}px)`:L.value?`${L.value}px`:void 0,left:b?void 0:`${E.left}px`,right:b?`${E.right}px`:void 0,top:P.value!=="bottom"?`${E.top}px`:void 0,bottom:P.value!=="top"?`${E.bottom}px`:void 0,width:re?L.value?`${L.value}px`:void 0:`calc(100% - ${E.left}px - ${E.right}px)`}}),ie=T(()=>({zIndex:te.value-1}));return{layoutItemStyles:N,layoutItemScrimStyles:ie,zIndex:te}},unregister:g=>{s.delete(g),n.delete(g),o.delete(g),v.delete(g),_.delete(g),t.value=t.value.filter(w=>w!==g)},mainRect:k,mainStyles:C,getLayoutItem:O,items:F,layoutRect:p,rootZIndex:l});const U=ge(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),f=ge(()=>({zIndex:i?l.value:void 0,position:i?"relative":void 0,overflow:i?"hidden":void 0}));return{layoutClasses:U,layoutStyles:f,getLayoutItem:O,items:F,layoutRect:p,layoutRef:m}}const ml=G({start:Boolean,end:Boolean,...me(),...pe()},"VListItemAction"),kt=Q()({name:"VListItemAction",props:ml(),setup(e,i){let{slots:l}=i;return ee(()=>a(e.tag,{class:ae(["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class]),style:ve(e.style)},l)),{}}}),fl=G({disabled:Boolean,modelValue:{type:Boolean,default:null},...Mt()},"VHover"),gl=Q()({name:"VHover",props:fl(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:l}=i;const t=we(e,"modelValue"),{runOpenDelay:n,runCloseDelay:o}=Lt(e,s=>!e.disabled&&(t.value=s));return()=>l.default?.({isHovering:t.value,props:{onMouseenter:n,onMouseleave:o}})}}),hl=G({id:String,interactive:Boolean,text:String,...qe(Ft({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","retainFocus","captureFocus","disableInitialFocus"])},"VTooltip"),de=Q()({name:"VTooltip",props:hl(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:l}=i;const t=we(e,"modelValue"),{scopeId:n}=nt(),o=lt(),s=ge(()=>e.id||`v-tooltip-${o}`),v=D(),_=T(()=>e.location.split(" ").length>1?e.location:e.location+" center"),m=T(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),p=ge(()=>e.transition!=null?e.transition:t.value?"scale-transition":"fade-transition"),S=T(()=>H({"aria-describedby":s.value},e.activatorProps));return ee(()=>{const h=He.filterProps(e);return a(He,H({ref:v,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:s.value},h,{modelValue:t.value,"onUpdate:modelValue":I=>t.value=I,transition:p.value,absolute:!0,location:_.value,origin:m.value,role:"tooltip",activatorProps:S.value,_disableGlobalStack:!0},n),{activator:l.activator,default:function(){for(var I=arguments.length,k=new Array(I),C=0;C<I;C++)k[C]=arguments[C];return l.default?.(...k)??e.text}})}),Te({},v)}});function yl(e,i){const l=typeof e=="string"?sa(e):e,t=pl(l,i);return{mounted:t,updated:t,unmounted(n){Ht(null,n)}}}function pl(e,i){return function(l,t,n){const o=typeof i=="function"?i(t):i,s=t.value?.text??t.value??o?.text,v=Nt(t.value)?t.value:{},_=()=>s??l.textContent,m=(n.ctx===t.instance.$?bl(n,t.instance.$)?.provides:n.ctx?.provides)??t.instance.$.provides,p=ua(e,H(o,v),_);p.appContext=Object.assign(Object.create(null),t.instance.$.appContext,{provides:m}),Ht(p,l)}}function bl(e,i){const l=new Set,t=o=>{for(const s of o){if(!s)continue;if(s===e||s.el&&e.el&&s.el===e.el)return!0;l.add(s);let v;if(s.suspense?v=t([s.ssContent]):Array.isArray(s.children)?v=t(s.children):s.component?.vnode&&(v=t([s.component?.subTree])),v)return v;l.delete(s)}return!1};if(!t([i.subTree]))return i;const n=Array.from(l).reverse();for(const o of n)if(o.component)return o.component;return i}const Ke=yl(de,e=>({activator:(Nt(e.value)?!e.value.text:["",!1,null].includes(e.value))?null:"parent",location:e.arg?.replace("-"," "),text:typeof e.value=="boolean"?void 0:e.value})),_l={key:1,class:"font-weight-medium"},xl=ot({__name:"OptionsSelector",props:Dt({label:{default:""},autofocus:{type:Boolean,default:!1},rules:{default:()=>[]},firstchecked:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const i=zt(e,"modelValue"),l=D(""),t=o=>{n(l.value),l.value=""},n=o=>{const s=i.value.length===0;i.value.map(v=>v.value).includes(o)||i.value.push({value:o,right:s})};return(o,s)=>(j(),oe(ue,null,[a(Ae,{modelValue:d(l),"onUpdate:modelValue":s[1]||(s[1]=v=>he(l)?l.value=v:null),variant:"underlined",class:"ms-4",required:"","validate-on":"blur",placeholder:o.$t("sheet_editor.add_option_placeholder"),rules:e.rules,onKeyup:Ot(_e(t,["stop"]),["enter"])},{append:r(()=>[a(q,{onClick:t,variant:"elevated",color:"primary",icon:"mdi-keyboard-return",size:"small",disabled:!d(l)},null,8,["disabled"]),Se((j(),xe(q,{disabled:!!d(l)||i.value.map(v=>v.value).includes(""),icon:"",class:"mx-4",variant:"flat",size:"small",onClick:s[0]||(s[0]=v=>n(""))},{default:r(()=>[a(ne,{small:"",icon:"mdi-plus"}),a(ne,{small:"",icon:"mdi-selection"})]),_:1},8,["disabled"])),[[Ke,o.$t("editor.option_new_gap_tooltip"),"bottom"]])]),_:1},8,["modelValue","placeholder","rules","onKeyup"]),a(et,{density:"compact",width:"50%",class:"mx-auto"},{default:r(()=>[(j(!0),oe(ue,null,tt(i.value,(v,_)=>(j(),xe(Ut,{"item.title":"option.value",class:ae(["rounded-pill",v.right?["bg-green-lighten-5"]:void 0]),slim:""},{prepend:r(()=>[Se((j(),xe(kt,{start:""},{default:r(()=>[a(ra,{modelValue:v.right,"onUpdate:modelValue":m=>v.right=m,color:"green"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)),[[Ke,o.$t("sheet_editor.add_option_is_right_answer"),"bottom"]])]),title:r(()=>[v.value===""?(j(),xe(ne,{key:0,small:""},{default:r(()=>[...s[2]||(s[2]=[X("mdi-selection",-1)])]),_:1})):(j(),oe("span",_l,R(v.value),1))]),append:r(()=>[a(kt,{end:""},{default:r(()=>[a(gl,null,{default:r(({isHovering:m,props:p})=>[Se((j(),xe(q,H({ref_for:!0},p,{icon:"",variant:"flat",size:"small",class:m?["opacity-100"]:["opacity-10"],color:m?"red-lighten-5":void 0,onClick:S=>i.value.splice(_,1)}),{default:r(()=>[a(ne,{color:m?"red":void 0,icon:"mdi-close",size:"x-large"},null,8,["color"])]),_:2},1040,["class","color","onClick"])),[[Ke,o.$t("sheet_editor.delete"),"bottom"]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]))),256))]),_:1})],64))}});let Vl=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((i,l)=>(l&=63,l<36?i+=l.toString(36):l<62?i+=(l-26).toString(36).toUpperCase():l>62?i+="-":i+="_",i),"");const wl=G({...me(),...pe()},"VCardActions"),Le=Q()({name:"VCardActions",props:wl(),setup(e,i){let{slots:l}=i;return it({VBtn:{slim:!0,variant:"text"}}),ee(()=>a(e.tag,{class:ae(["v-card-actions",e.class]),style:ve(e.style)},l)),{}}}),kl=G({opacity:[Number,String],...me(),...pe()},"VCardSubtitle"),Sl=Q()({name:"VCardSubtitle",props:kl(),setup(e,i){let{slots:l}=i;return ee(()=>a(e.tag,{class:ae(["v-card-subtitle",e.class]),style:ve([{"--v-card-subtitle-opacity":e.opacity},e.style])},l)),{}}}),Me=da("v-card-title"),Cl=G({appendAvatar:String,appendIcon:Ne,prependAvatar:String,prependIcon:Ne,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...me(),...qt(),...pe()},"VCardItem"),Il=Q()({name:"VCardItem",props:Cl(),setup(e,i){let{slots:l}=i;return ee(()=>{const t=!!(e.prependAvatar||e.prependIcon),n=!!(t||l.prepend),o=!!(e.appendAvatar||e.appendIcon),s=!!(o||l.append),v=!!(e.title!=null||l.title),_=!!(e.subtitle!=null||l.subtitle);return a(e.tag,{class:ae(["v-card-item",e.class]),style:ve(e.style)},{default:()=>[n&&V("div",{key:"prepend",class:"v-card-item__prepend"},[l.prepend?a(ye,{key:"prepend-defaults",disabled:!t,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},l.prepend):V(ue,null,[e.prependAvatar&&a(ft,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&a(ne,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),V("div",{class:"v-card-item__content"},[v&&a(Me,{key:"title"},{default:()=>[l.title?.()??R(e.title)]}),_&&a(Sl,{key:"subtitle"},{default:()=>[l.subtitle?.()??R(e.subtitle)]}),l.default?.()]),s&&V("div",{key:"append",class:"v-card-item__append"},[l.append?a(ye,{key:"append-defaults",disabled:!o,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},l.append):V(ue,null,[e.appendIcon&&a(ne,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&a(ft,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])]})}),{}}}),Pl=G({opacity:[Number,String],...me(),...pe()},"VCardText"),Fe=Q()({name:"VCardText",props:Pl(),setup(e,i){let{slots:l}=i;return ee(()=>a(e.tag,{class:ae(["v-card-text",e.class]),style:ve([{"--v-card-text-opacity":e.opacity},e.style])},l)),{}}}),Al=G({appendAvatar:String,appendIcon:Ne,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ne,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...dt(),...me(),...qt(),...jt(),...Ye(),..._a(),...ba(),...pa(),...rt(),...ya(),...pe(),...$e(),...ha({variant:"elevated"})},"VCard"),Ze=Q()({name:"VCard",directives:{vRipple:gt},props:Al(),setup(e,i){let{attrs:l,slots:t}=i;const{themeClasses:n}=Be(e),{borderClasses:o}=st(e),{colorClasses:s,colorStyles:v,variantClasses:_}=ca(e),{densityClasses:m}=va(e),{dimensionStyles:p}=Wt(e),{elevationClasses:S}=We(e),{loaderClasses:h}=Yt(e),{locationStyles:I}=ma(e),{positionClasses:k}=fa(e),{roundedClasses:C}=ut(e),F=ga(e,l),O=ce(void 0);return Z(()=>e.loading,(B,z)=>{O.value=!B&&typeof z=="string"?z:typeof B=="boolean"?void 0:B},{immediate:!0}),ee(()=>{const B=e.link!==!1&&F.isLink.value,z=!e.disabled&&e.link!==!1&&(e.link||F.isClickable.value),U=B?"a":e.tag,f=!!(t.title||e.title!=null),g=!!(t.subtitle||e.subtitle!=null),w=f||g,y=!!(t.append||e.appendAvatar||e.appendIcon),x=!!(t.prepend||e.prependAvatar||e.prependIcon),P=!!(t.image||e.image),$=w||x||y,L=!!(t.text||e.text!=null);return Se(a(U,H(F.linkProps,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":z},n.value,o.value,s.value,m.value,S.value,h.value,k.value,C.value,_.value,e.class],style:[v.value,p.value,I.value,e.style],onClick:z&&F.navigate,tabindex:e.disabled?-1:void 0}),{default:()=>[P&&V("div",{key:"image",class:"v-card__image"},[t.image?a(ye,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(je,{key:"image-img",cover:!0,src:e.image},null)]),a(Xt,{name:"v-card",active:!!e.loading,color:O.value},{default:t.loader}),$&&a(Il,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:t.item,prepend:t.prepend,title:t.title,subtitle:t.subtitle,append:t.append}),L&&a(Fe,{key:"text"},{default:()=>[t.text?.()??e.text]}),t.default?.(),t.actions&&a(Le,null,{default:t.actions}),xa(z,"v-card")]}),[[gt,z&&e.ripple]])}),{}}}),Tl=G({fullscreen:Boolean,scrollable:Boolean,...qe(Ft({captureFocus:!0,origin:"center center",scrollStrategy:"block",transition:{component:Va},zIndex:2400,retainFocus:!0}),["disableInitialFocus"])},"VDialog"),Je=Q()({name:"VDialog",props:Tl(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,i){let{emit:l,slots:t}=i;const n=we(e,"modelValue"),{scopeId:o}=nt(),s=D();function v(){l("afterEnter"),(e.scrim||e.retainFocus)&&s.value?.contentEl&&!s.value.contentEl.contains(document.activeElement)&&s.value.contentEl.focus({preventScroll:!0})}function _(){l("afterLeave")}return Z(n,async m=>{m||(await Ve(),s.value.activatorEl?.focus({preventScroll:!0}))}),ee(()=>{const m=He.filterProps(e),p=H({"aria-haspopup":"dialog"},e.activatorProps),S=H({tabindex:-1},e.contentProps);return a(He,H({ref:s,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},m,{modelValue:n.value,"onUpdate:modelValue":h=>n.value=h,"aria-modal":"true",activatorProps:p,contentProps:S,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:v,onAfterLeave:_},o),{activator:t.activator,default:function(){for(var h=arguments.length,I=new Array(h),k=0;k<h;k++)I[k]=arguments[k];return a(ye,{root:"VDialog"},{default:()=>[t.default?.(...I)]})}})}),Te({},s)}}),Bl=G({...me(),...ka()},"VForm"),Qe=Q()({name:"VForm",props:Bl(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,i){let{slots:l,emit:t}=i;const n=wa(e),o=D();function s(_){_.preventDefault(),n.reset()}function v(_){const m=_,p=n.validate();m.then=p.then.bind(p),m.catch=p.catch.bind(p),m.finally=p.finally.bind(p),t("submit",m),m.defaultPrevented||p.then(S=>{let{valid:h}=S;h&&o.value?.submit()}),m.preventDefault()}return ee(()=>V("form",{ref:o,class:ae(["v-form",e.class]),style:ve(e.style),novalidate:!0,onReset:s,onSubmit:v},[l.default?.(n)])),Te(n,o)}});function $l(e){let{rootEl:i,isSticky:l,layoutItemStyles:t}=e;const n=ce(!1),o=ce(0),s=T(()=>{const m=typeof n.value=="boolean"?"top":n.value;return[l.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[m]:se(o.value)}:{top:t.value.top}]});Ue(()=>{Z(l,m=>{m?window.addEventListener("scroll",_,{passive:!0}):window.removeEventListener("scroll",_)},{immediate:!0})}),Oe(()=>{window.removeEventListener("scroll",_)});let v=0;function _(){const m=v>window.scrollY?"up":"down",p=i.value.getBoundingClientRect(),S=parseFloat(t.value.top??0),h=window.scrollY-Math.max(0,o.value-S),I=p.height+Math.max(o.value,S)-window.scrollY-window.innerHeight,k=parseFloat(getComputedStyle(i.value).getPropertyValue("--v-body-scroll-y"))||0;p.height<window.innerHeight-S?(n.value="top",o.value=S):m==="up"&&n.value==="bottom"||m==="down"&&n.value==="top"?(o.value=window.scrollY+p.top-k,n.value=!0):m==="down"&&I<=0?(o.value=0,n.value="bottom"):m==="up"&&h<=0&&(k?n.value!=="top"&&(o.value=-h+k+S,n.value="top"):(o.value=p.top+h,n.value="top")),v=window.scrollY}return{isStuck:n,stickyStyles:s}}const El=100,Rl=20;function St(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function Ct(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let i=0;for(let l=e.length-1;l>0;l--){if(e[l].t===e[l-1].t)continue;const t=St(i),n=(e[l].d-e[l-1].d)/(e[l].t-e[l-1].t);i+=(n-t)*Math.abs(n),l===e.length-1&&(i*=.5)}return St(i)*1e3}function Ll(){const e={};function i(n){Array.from(n.changedTouches).forEach(o=>{(e[o.identifier]??(e[o.identifier]=new Sa(Rl))).push([n.timeStamp,o])})}function l(n){Array.from(n.changedTouches).forEach(o=>{delete e[o.identifier]})}function t(n){const o=e[n]?.values().reverse();if(!o)throw new Error(`No samples for touch id ${n}`);const s=o[0],v=[],_=[];for(const m of o){if(s[0]-m[0]>El)break;v.push({t:m[0],d:m[1].clientX}),_.push({t:m[0],d:m[1].clientY})}return{x:Ct(v),y:Ct(_),get direction(){const{x:m,y:p}=this,[S,h]=[Math.abs(m),Math.abs(p)];return S>h&&m>=0?"right":S>h&&m<=0?"left":h>S&&p>=0?"down":h>S&&p<=0?"up":Ml()}}}return{addMovement:i,endTouch:l,getVelocity:t}}function Ml(){throw new Error}function Fl(e){let{el:i,isActive:l,isTemporary:t,width:n,touchless:o,position:s}=e;Ue(()=>{window.addEventListener("touchstart",B,{passive:!0}),window.addEventListener("touchmove",z,{passive:!1}),window.addEventListener("touchend",U,{passive:!0})}),Oe(()=>{window.removeEventListener("touchstart",B),window.removeEventListener("touchmove",z),window.removeEventListener("touchend",U)});const v=T(()=>["left","right"].includes(s.value)),{addMovement:_,endTouch:m,getVelocity:p}=Ll();let S=!1;const h=ce(!1),I=ce(0),k=ce(0);let C;function F(g,w){return(s.value==="left"?g:s.value==="right"?document.documentElement.clientWidth-g:s.value==="top"?g:s.value==="bottom"?document.documentElement.clientHeight-g:ke())-(w?n.value:0)}function O(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const y=s.value==="left"?(g-k.value)/n.value:s.value==="right"?(document.documentElement.clientWidth-g-k.value)/n.value:s.value==="top"?(g-k.value)/n.value:s.value==="bottom"?(document.documentElement.clientHeight-g-k.value)/n.value:ke();return w?Gt(y):y}function B(g){if(o.value)return;const w=g.changedTouches[0].clientX,y=g.changedTouches[0].clientY,x=25,P=s.value==="left"?w<x:s.value==="right"?w>document.documentElement.clientWidth-x:s.value==="top"?y<x:s.value==="bottom"?y>document.documentElement.clientHeight-x:ke(),$=l.value&&(s.value==="left"?w<n.value:s.value==="right"?w>document.documentElement.clientWidth-n.value:s.value==="top"?y<n.value:s.value==="bottom"?y>document.documentElement.clientHeight-n.value:ke());(P||$||l.value&&t.value)&&(C=[w,y],k.value=F(v.value?w:y,l.value),I.value=O(v.value?w:y),S=k.value>-20&&k.value<80,m(g),_(g))}function z(g){const w=g.changedTouches[0].clientX,y=g.changedTouches[0].clientY;if(S){if(!g.cancelable){S=!1;return}const P=Math.abs(w-C[0]),$=Math.abs(y-C[1]);(v.value?P>$&&P>3:$>P&&$>3)?(h.value=!0,S=!1):(v.value?$:P)>3&&(S=!1)}if(!h.value)return;g.preventDefault(),_(g);const x=O(v.value?w:y,!1);I.value=Math.max(0,Math.min(1,x)),x>1?k.value=F(v.value?w:y,!0):x<0&&(k.value=F(v.value?w:y,!1))}function U(g){if(S=!1,!h.value)return;_(g),h.value=!1;const w=p(g.changedTouches[0].identifier),y=Math.abs(w.x),x=Math.abs(w.y);(v.value?y>x&&y>400:x>y&&x>3)?l.value=w.direction===({left:"right",right:"left",top:"down",bottom:"up"}[s.value]||ke()):l.value=I.value>.5}const f=T(()=>h.value?{transform:s.value==="left"?`translateX(calc(-100% + ${I.value*n.value}px))`:s.value==="right"?`translateX(calc(100% - ${I.value*n.value}px))`:s.value==="top"?`translateY(calc(-100% + ${I.value*n.value}px))`:s.value==="bottom"?`translateY(calc(100% - ${I.value*n.value}px))`:ke(),transition:"none"}:void 0);return Re(h,()=>{const g=i.value?.style.transform??null,w=i.value?.style.transition??null;ct(()=>{i.value?.style.setProperty("transform",f.value?.transform||"none"),i.value?.style.setProperty("transition",f.value?.transition||null)}),Ca(()=>{i.value?.style.setProperty("transform",g),i.value?.style.setProperty("transition",w)})}),{isDragging:h,dragProgress:I,dragStyles:f}}function ke(){throw new Error}const Hl=["start","end","left","right","top","bottom"],Nl=G({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Hl.includes(e)},sticky:Boolean,...dt(),...me(),...Mt(),...Ea({mobile:null}),...Ye(),...rl(),...rt(),...qe(Ra(),["disableInitialFocus"]),...pe({tag:"nav"}),...$e()},"VNavigationDrawer"),Dl=Q()({name:"VNavigationDrawer",props:Nl(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,i){let{attrs:l,emit:t,slots:n}=i;const{isRtl:o}=vt(),{themeClasses:s}=Be(e),{borderClasses:v}=st(e),{backgroundColorClasses:_,backgroundColorStyles:m}=De(()=>e.color),{elevationClasses:p}=We(e),{displayClasses:S,mobile:h}=Kt(e),{roundedClasses:I}=ut(e),k=Ia(),C=we(e,"modelValue",null,N=>!!N),{ssrBootStyles:F}=Pa(),{scopeId:O}=nt(),B=D(),z=ce(!1),{runOpenDelay:U,runCloseDelay:f}=Lt(e,N=>{z.value=N}),g=T(()=>e.rail&&e.expandOnHover&&z.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),w=T(()=>Aa(e.location,o.value)),y=ge(()=>e.persistent),x=T(()=>!e.permanent&&(h.value||e.temporary)),P=T(()=>e.sticky&&!x.value&&w.value!=="bottom");Ta(e,{isActive:C,localTop:x,contentEl:B}),Re(()=>e.expandOnHover&&e.rail!=null,()=>{Z(z,N=>t("update:rail",!N))}),Re(()=>!e.disableResizeWatcher,()=>{Z(x,N=>!e.permanent&&Ve(()=>C.value=!N))}),Re(()=>!e.disableRouteWatcher&&!!k,()=>{Z(k.currentRoute,()=>x.value&&(C.value=!1))}),Z(()=>e.permanent,N=>{N&&(C.value=!0)}),e.modelValue==null&&!x.value&&(C.value=e.permanent||!h.value);const{isDragging:$,dragProgress:L}=Fl({el:B,isActive:C,isTemporary:x,width:g,touchless:ge(()=>e.touchless),position:w}),W=T(()=>{const N=x.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):g.value;return $.value?N*L.value:N}),{layoutItemStyles:A,layoutItemScrimStyles:M}=dl({id:e.name,order:T(()=>parseInt(e.order,10)),position:w,layoutSize:W,elementSize:g,active:Ba(C),disableTransitions:ge(()=>$.value),absolute:T(()=>e.absolute||P.value&&typeof K.value!="string")}),{isStuck:K,stickyStyles:J}=$l({rootEl:B,isSticky:P,layoutItemStyles:A}),Y=De(()=>typeof e.scrim=="string"?e.scrim:null),te=T(()=>({...$.value?{opacity:L.value*.2,transition:"none"}:void 0,...M.value}));return it({VList:{bgColor:"transparent"}}),ee(()=>{const N=n.image||e.image;return V(ue,null,[a(e.tag,H({ref:B,onMouseenter:U,onMouseleave:f,class:["v-navigation-drawer",`v-navigation-drawer--${w.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":z.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":x.value,"v-navigation-drawer--persistent":y.value,"v-navigation-drawer--active":C.value,"v-navigation-drawer--sticky":P.value},s.value,_.value,v.value,S.value,p.value,I.value,e.class],style:[m.value,A.value,F.value,J.value,e.style],inert:!C.value},O,l),{default:()=>[N&&V("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?a(ye,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},n.image):a(je,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),n.prepend&&V("div",{class:"v-navigation-drawer__prepend"},[n.prepend?.()]),V("div",{class:"v-navigation-drawer__content"},[n.default?.()]),n.append&&V("div",{class:"v-navigation-drawer__append"},[n.append?.()])]}),a($a,{name:"fade-transition"},{default:()=>[x.value&&($.value||C.value)&&!!e.scrim&&V("div",H({class:["v-navigation-drawer__scrim",Y.backgroundColorClasses.value],style:[te.value,Y.backgroundColorStyles.value],onClick:()=>{y.value||(C.value=!1)}},O),null)]})])}),{isStuck:K}}}),zl={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function Ol(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return V("div",{class:ae(["v-skeleton-loader__bone",`v-skeleton-loader__${e}`])},[i])}function It(e){const[i,l]=e.split("@");return Array.from({length:l}).map(()=>Xe(i))}function Xe(e){let i=[];if(!e)return i;const l=zl[e];if(e!==l){if(e.includes(","))return Pt(e);if(e.includes("@"))return It(e);l.includes(",")?i=Pt(l):l.includes("@")?i=It(l):l&&i.push(Xe(l))}return[Ol(e,i)]}function Pt(e){return e.replace(/\s/g,"").split(",").map(Xe)}const Ul=G({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...jt(),...Ye(),...$e()},"VSkeletonLoader"),ql=Q()({name:"VSkeletonLoader",inheritAttrs:!1,props:Ul(),setup(e,i){let{attrs:l,slots:t}=i;const{backgroundColorClasses:n,backgroundColorStyles:o}=De(()=>e.color),{dimensionStyles:s}=Wt(e),{elevationClasses:v}=We(e),{themeClasses:_}=Be(e),{t:m}=La(),p=T(()=>Xe(Ma(e.type).join(",")));return ee(()=>{const S=!t.default||e.loading,h=e.boilerplate||!S?{}:{ariaLive:"polite",ariaLabel:m(e.loadingText),role:"alert"};return S?V("div",H({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},_.value,n.value,v.value],style:[o.value,s.value]},h,l),[p.value]):V(ue,null,[t.default?.()])}),{}}}),Wl=G({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Qt(),...Ha()},"VSwitch"),At=Q()({name:"VSwitch",inheritAttrs:!1,props:Wl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,i){let{attrs:l,slots:t}=i;const n=we(e,"indeterminate"),o=we(e,"modelValue"),{loaderClasses:s}=Yt(e),{isFocused:v,focus:_,blur:m}=Zt(e),p=D(),S=D(),h=Fa&&window.matchMedia("(forced-colors: active)").matches,I=ge(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),k=lt(),C=ge(()=>e.id||`switch-${k}`);function F(){n.value&&(n.value=!1)}function O(B){B.stopPropagation(),B.preventDefault(),p.value?.input?.click()}return ee(()=>{const[B,z]=Jt(l),U=ze.filterProps(e),f=ht.filterProps(e);return a(ze,H({ref:S,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":n.value},s.value,e.class]},B,U,{modelValue:o.value,"onUpdate:modelValue":g=>o.value=g,id:C.value,focused:v.value,style:e.style}),{...t,default:g=>{let{id:w,messagesId:y,isDisabled:x,isReadonly:P,isValid:$}=g;const L={model:o,isValid:$};return a(ht,H({ref:p},f,{modelValue:o.value,"onUpdate:modelValue":[W=>o.value=W,F],id:w.value,"aria-describedby":y.value,type:"checkbox","aria-checked":n.value?"mixed":void 0,disabled:x.value,readonly:P.value,onFocus:_,onBlur:m},z),{...t,default:W=>{let{backgroundColorClasses:A,backgroundColorStyles:M}=W;return V("div",{class:ae(["v-switch__track",h?void 0:A.value]),style:ve(M.value),onClick:O},[t["track-true"]&&V("div",{key:"prepend",class:"v-switch__track-true"},[t["track-true"](L)]),t["track-false"]&&V("div",{key:"append",class:"v-switch__track-false"},[t["track-false"](L)])])},input:W=>{let{inputNode:A,icon:M,backgroundColorClasses:K,backgroundColorStyles:J}=W;return V(ue,null,[A,V("div",{class:ae(["v-switch__thumb",{"v-switch__thumb--filled":M||e.loading},e.inset||h?void 0:K.value]),style:ve(e.inset?void 0:J.value)},[t.thumb?a(ye,{defaults:{VIcon:{icon:M,size:"x-small"}}},{default:()=>[t.thumb({...L,icon:M})]}):a(Na,null,{default:()=>[e.loading?a(Xt,{name:"v-switch",active:!0,color:$.value===!1?void 0:I.value},{default:Y=>t.loader?t.loader(Y):a(Da,{active:Y.isActive,color:Y.color,indeterminate:!0,size:"16",width:"2"},null)}):M&&a(ne,{key:String(M),icon:M,size:"x-small"},null)]})])])}})}})}),Te({},S)}}),Yl=G({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxHeight:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Ua(),...Qt(),...Oa()},"VTextarea"),Tt=Q()({name:"VTextarea",directives:{vIntersect:yt},inheritAttrs:!1,props:Yl(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,i){let{attrs:l,emit:t,slots:n}=i;const o=we(e,"modelValue"),{isFocused:s,focus:v,blur:_}=Zt(e),{onIntersect:m}=Wa(e),p=T(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value||"").toString().length),S=T(()=>{if(l.maxlength)return l.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),h=D(),I=D(),k=ce(""),C=D(),F=D(0),{platform:O}=Kt(),B=za(e),z=T(()=>e.persistentPlaceholder||s.value||e.active);function U(){B.isSuppressing.value&&B.update(),C.value!==document.activeElement&&C.value?.focus(),s.value||v()}function f(A){U(),t("click:control",A)}function g(A){t("mousedown:control",A)}function w(A){A.stopPropagation(),U(),Ve(()=>{o.value="",ja(e["onClick:clear"],A)})}function y(A){const M=A.target;if(!e.modelModifiers?.trim){o.value=M.value;return}const K=M.value,J=M.selectionStart,Y=M.selectionEnd;o.value=K,Ve(()=>{let te=0;K.trimStart().length===M.value.length&&(te=K.length-M.value.length),J!=null&&(M.selectionStart=J-te),Y!=null&&(M.selectionEnd=Y-te)})}const x=D(),P=D(Number(e.rows)),$=T(()=>["plain","underlined"].includes(e.variant));ct(()=>{e.autoGrow||(P.value=Number(e.rows))});function L(){Ve(()=>{if(!C.value)return;if(O.value.firefox){F.value=12;return}const{offsetWidth:A,clientWidth:M}=C.value;F.value=Math.max(0,A-M)}),e.autoGrow&&Ve(()=>{if(!x.value||!I.value)return;const A=getComputedStyle(x.value),M=getComputedStyle(I.value.$el),K=parseFloat(A.getPropertyValue("--v-field-padding-top"))+parseFloat(A.getPropertyValue("--v-input-padding-top"))+parseFloat(A.getPropertyValue("--v-field-padding-bottom")),J=x.value.scrollHeight,Y=parseFloat(A.lineHeight),te=Math.max(parseFloat(e.rows)*Y+K,parseFloat(M.getPropertyValue("--v-input-control-height"))),N=e.maxHeight?parseFloat(e.maxHeight):parseFloat(e.maxRows)*Y+K||1/0,ie=Gt(J??0,te,N);P.value=Math.floor((ie-K)/Y),k.value=se(ie)})}Ue(L),Z(o,L),Z(()=>e.rows,L),Z(()=>e.maxHeight,L),Z(()=>e.maxRows,L),Z(()=>e.density,L),Z(P,A=>{t("update:rows",A)});let W;return Z(x,A=>{A?(W=new ResizeObserver(L),W.observe(x.value)):W?.disconnect()}),Oe(()=>{W?.disconnect()}),ee(()=>{const A=!!(n.counter||e.counter||e.counterValue),M=!!(A||n.details),[K,J]=Jt(l),{modelValue:Y,...te}=ze.filterProps(e),N={...pt.filterProps(e),"onClick:clear":w};return a(ze,H({ref:h,modelValue:o.value,"onUpdate:modelValue":ie=>o.value=ie,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":$.value},e.class],style:[{"--v-textarea-max-height":e.maxHeight?se(e.maxHeight):void 0,"--v-textarea-scroll-bar-width":se(F.value)},e.style]},K,te,{centerAffix:P.value===1&&!$.value,focused:s.value}),{...n,default:ie=>{let{id:re,isDisabled:b,isDirty:u,isReadonly:le,isValid:fe,hasDetails:c}=ie;return a(pt,H({ref:I,style:{"--v-textarea-control-height":k.value},onClick:f,onMousedown:g,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},N,{id:re.value,active:z.value||u.value,labelId:`${re.value}-label`,centerAffix:P.value===1&&!$.value,dirty:u.value||e.dirty,disabled:b.value,focused:s.value,details:c.value,error:fe.value===!1}),{...n,default:E=>{let{props:{class:be,...mt},controlRef:aa}=E;return V(ue,null,[e.prefix&&V("span",{class:"v-text-field__prefix"},[e.prefix]),Se(V("textarea",H({ref:Ge=>C.value=aa.value=Ge,class:be,value:o.value,onInput:y,autofocus:e.autofocus,readonly:le.value,disabled:b.value,placeholder:e.placeholder,rows:e.rows,name:B.fieldName.value,autocomplete:B.fieldAutocomplete.value,onFocus:U,onBlur:_,"aria-labelledby":`${re.value}-label`},mt,J),null),[[yt,{handler:m},null,{once:!0}]]),e.autoGrow&&Se(V("textarea",{class:ae([be,"v-textarea__sizer"]),id:`${mt.id}-sizer`,"onUpdate:modelValue":Ge=>o.value=Ge,ref:x,readonly:!0,"aria-hidden":"true"},null),[[Ya,o.value]]),e.suffix&&V("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:M?ie=>V(ue,null,[n.details?.(ie),A&&V(ue,null,[V("span",null,null),a(qa,{active:e.persistentCounter||s.value,value:p.value,max:S.value,disabled:e.disabled},n.counter)])]):void 0})}),Te({},h,I,C)}}),jl=G({text:String,...me(),...pe()},"VToolbarTitle"),Xl=Q()({name:"VToolbarTitle",props:jl(),setup(e,i){let{slots:l}=i;return ee(()=>{const t=!!(l.default||l.text||e.text);return a(e.tag,{class:ae(["v-toolbar-title",e.class]),style:ve(e.style)},{default:()=>[t&&V("div",{class:"v-toolbar-title__placeholder"},[l.text?l.text():e.text,l.default?.()])]})}),{}}}),Gl=[null,"prominent","default","comfortable","compact"],Kl=G({absolute:Boolean,collapse:Boolean,collapsePosition:{type:String,default:"start"},color:String,density:{type:String,default:"default",validator:e=>Gl.includes(e)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...dt(),...me(),...Ye(),...rt(),...pe({tag:"header"}),...$e()},"VToolbar"),Bt=Q()({name:"VToolbar",props:Kl(),setup(e,i){let{slots:l}=i;const{backgroundColorClasses:t,backgroundColorStyles:n}=De(()=>e.color),{borderClasses:o}=st(e),{elevationClasses:s}=We(e),{roundedClasses:v}=ut(e),{themeClasses:_}=Be(e),{rtlClasses:m}=vt(),p=ce(e.extended===null?!!l.extension?.():e.extended),S=T(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),h=T(()=>p.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return it({VBtn:{variant:"text"}}),ee(()=>{const I=!!(e.title||l.title),k=!!(l.image||e.image),C=l.extension?.();return p.value=e.extended===null?!!C:e.extended,a(e.tag,{class:ae(["v-toolbar",`v-toolbar--collapse-${e.collapsePosition}`,{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},t.value,o.value,s.value,v.value,_.value,m.value,e.class]),style:ve([n.value,e.style])},{default:()=>[k&&V("div",{key:"image",class:"v-toolbar__image"},[l.image?a(ye,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},l.image):a(je,{key:"image-img",cover:!0,src:e.image},null)]),a(ye,{defaults:{VTabs:{height:se(S.value)}}},{default:()=>[V("div",{class:"v-toolbar__content",style:{height:se(S.value)}},[l.prepend&&V("div",{class:"v-toolbar__prepend"},[l.prepend?.()]),I&&a(Xl,{key:"title",text:e.title},{text:l.title}),l.default?.(),l.append&&V("div",{class:"v-toolbar__append"},[l.append?.()])])]}),a(ye,{defaults:{VTabs:{height:se(h.value)}}},{default:()=>[a(Xa,null,{default:()=>[p.value&&V("div",{class:"v-toolbar__extension",style:{height:se(h.value)}},[C])]})]})]})}),{contentHeight:S,extensionHeight:h}}}),Zl={id:"sheet-editor"},Jl={class:"mb-5 pa-9",key:"no_units",style:{border:"4px dashed #e7e7e7"}},Ql={class:"text-h6 text-disabled"},en={class:"text-disabled"},tn={class:"text-h4 my-4"},an={key:0},ln={key:1},nn={key:2,class:"font-italic"},on={key:0,class:"body-2 mb-4 pre-line"},sn=ot({__name:"SheetEditor",props:{sheet:{required:!0},sheetModifiers:{}},emits:Dt(["save"],["update:sheet"]),setup(e,{expose:i,emit:l}){const{t}=Ga(),n=Ka(),o=zt(e,"sheet"),s=ll(),v=Ie("unit_description"),_=Ie("add_pair_form"),m=Ie("insert_video_form"),p=Ie("new_gap_form"),S=Ie("unit"),h=D([]),I=D(!1),k=D(!1),C=D(""),F=D(""),O=D(!1),B=D(""),z=D(!1);D(!1),D(!1);const U=D({show:!1}),f=D({index:void 0,data:{description:"",code:""}}),g=T(()=>[{value:"default",title:t("sheet_editor.types.default")},{value:"open_answer",title:t("sheet_editor.types.open_answer")},{value:"multiple_choice",title:t("sheet_editor.types.multiple_choice")},{value:"pairing",title:t("sheet_editor.types.pairing")}]),w=[{name:t("sheet_editor.snippets.blank_unit.name"),img:"blank.svg",unit:{type:"default",code:""}},{name:t("sheet_editor.snippets.gap_filling_dropdown.name"),img:"fill_gap_dropdown.svg",unit:{type:"default",code:t("sheet_editor.snippets.gap_filling_dropdown.code")}},{name:t("sheet_editor.snippets.gap_filling_open_answer.name"),img:"fill_gap_open.svg",unit:{type:"open_answer",code:t("sheet_editor.snippets.gap_filling_open_answer.code")}},{name:t("sheet_editor.snippets.multiple_choice.name"),img:"choice.svg",unit:{type:"multiple_choice",code:t("sheet_editor.snippets.multiple_choice.code")}},{name:t("sheet_editor.snippets.pairing_text_with_text.name"),img:"match_text.svg",unit:{type:"pairing",code:t("sheet_editor.snippets.pairing_text_with_text.code")}},{name:t("sheet_editor.snippets.questions_about_a_text_multiple_choice.name"),img:"choice_paragraph.svg",unit:{type:"multiple_choice",description:t("sheet_editor.snippets.questions_about_a_text_multiple_choice.description"),code:t("sheet_editor.snippets.questions_about_a_text_multiple_choice.code")}},{name:t("sheet_editor.snippets.questions_about_a_video_open_answer.name"),img:"open_video.svg",unit:{type:"open_answer",description:t("sheet_editor.snippets.questions_about_a_video_open_answer.description"),code:t("sheet_editor.snippets.questions_about_a_video_open_answer.code")}}],y=()=>document.querySelector('[name="textarea-input"]'),x=b=>`/snippet_thumb/${b.img}`,P=()=>{const b=y();if(!b)return;const u=f.value.data.code?.trimEnd()||"";u!==""&&f.value.data.code!==void 0&&(f.value.data.code=u+`

`),requestAnimationFrame(()=>{f.value.data.code&&(b.selectionStart=f.value.data.code.length,b.focus())})},$=b=>{I.value=b},L=async()=>{(await p.value?.validate()).valid&&W()},W=()=>{const b="["+h.value.map(u=>u.right?"+"+u.value:u.value).join("|")+"]";K(b),I.value=!1,h.value=[]},A=()=>{const b=y();if(!_.value?.validate()||!b)return;let u=f.value.data.code?.trimEnd()||"";u!==""&&(u+=`

`),u+=`${C.value} == ${F.value}`,f.value.data&&(f.value.data.code=u),requestAnimationFrame(()=>{f.value.data.code&&(b.selectionStart=f.value.data.code.length,b.focus())}),k.value=!1},M=()=>{m.value?.validate()&&(K(`{video:${B.value}}`),O.value=!1)},K=b=>{const u=y();if(!u)return;const le=u.selectionStart,fe=f.value.data.code||"";f.value.data.code=fe.slice(0,u.selectionStart)+b+fe.slice(u.selectionEnd),requestAnimationFrame(()=>{u.selectionStart=le+b.length,u.selectionEnd=le+b.length,u.focus()})},J=(b,u)=>("_key"in b[u]&&b[u]._key||(b[u]._key=Vl()),b[u]._key),Y=b=>{if(f.value.index===void 0)return;const u=f.value.index,le=u+b,fe=o[u];o[u]=o[le],o[le]=fe,N(le)},te=()=>{if(f.value.index!==void 0){if(o.value.splice(f.value.index,1),o.value.length===0){U.value.show=!1;return}N(Math.min(f.value.index,o.value.length-1))}},N=b=>{f.value.index=b,U.value.show=!0,f.value.data=o.value[b],Ve(()=>{const u=document.querySelector(`[data-section-key="${J(o.value,b)}"]`);n(u,{offset:-64})})},ie=b=>{const u={type:"default",title:"",code:""};o.value.push({...u,...b}),N(o.value.length-1)},re=()=>{$(!1),h.value=[]};return Z(I,b=>{b?h.value=[]:requestAnimationFrame(()=>{y().focus()})}),Z(k,b=>{b?(C.value="",F.value=""):(_.value?.resetValidation(),requestAnimationFrame(()=>{y().focus()}))}),Z(O,b=>{b?B.value="":(m.value?.resetValidation(),requestAnimationFrame(()=>{y().focus()}))}),Z(()=>U.value.show,b=>{b===!1&&(f.value.index=void 0)}),i({unit_description:v,add_pair_form:_,insert_video_form:m,new_gap_form:p,unit:S}),(b,u)=>{const le=xl,fe=tl;return j(),oe("div",Zl,[o.value&&d(U).show?(j(),xe(Dl,{key:0,id:"editor-drawer",location:b.$vuetify.display.mobile?"bottom":"right",permanent:"",width:"0"},{prepend:r(()=>[a(Bt,{density:"compact",flat:""},{default:r(()=>[a(de,{location:"bottom"},{activator:r(({props:c})=>[a(q,H(c,{onClick:u[0]||(u[0]=E=>N(d(f).index-1)),disabled:d(f).index===0,icon:"mdi-chevron-up"}),null,16,["disabled"])]),default:r(()=>[V("span",null,R(d(t)("sheet_editor.edit_previous")),1)]),_:1}),a(de,{location:"bottom"},{activator:r(({props:c})=>[a(q,H(c,{onClick:u[1]||(u[1]=E=>N(d(f).index+1)),disabled:d(f).index===o.value.length-1,icon:"mdi-chevron-down"}),null,16,["disabled"])]),default:r(()=>[V("span",null,R(d(t)("sheet_editor.edit_next")),1)]),_:1}),a(xt,{vertical:"",class:"mx-2"}),a(de,{location:"bottom"},{activator:r(({props:c})=>[a(q,H(c,{onClick:te,icon:"mdi-delete"}),null,16)]),default:r(()=>[V("span",null,R(d(t)("sheet_editor.delete")),1)]),_:1}),a(de,{location:"bottom"},{activator:r(({props:c})=>[a(q,H(c,{onClick:u[2]||(u[2]=E=>Y(-1)),disabled:d(f).index===0,icon:"mdi-transfer-up"}),null,16,["disabled"])]),default:r(()=>[V("span",null,R(d(t)("sheet_editor.move_up")),1)]),_:1}),a(de,{location:"bottom"},{activator:r(({props:c})=>[a(q,H(c,{onClick:u[3]||(u[3]=E=>Y(1)),disabled:d(f).index===o.value.length-1,icon:"mdi-transfer-down"}),null,16,["disabled"])]),default:r(()=>[V("span",null,R(d(t)("sheet_editor.move_down")),1)]),_:1}),a(Ee),a(de,{location:"left"},{activator:r(({props:c})=>[a(q,H(c,{onClick:u[4]||(u[4]=E=>d(U).show=!1),icon:"mdi-close"}),null,16)]),default:r(()=>[V("span",null,R(d(t)("sheet_editor.close")),1)]),_:1})]),_:1})]),default:r(()=>[a(bt,{class:"mt-2"},{default:r(()=>[a(Za,{variant:"outlined",density:"compact",label:"Type",items:d(g),modelValue:d(f).data.type,"onUpdate:modelValue":u[5]||(u[5]=c=>d(f).data.type=c)},null,8,["items","modelValue"]),a(Ae,{modelValue:d(f).data.title,"onUpdate:modelValue":u[6]||(u[6]=c=>d(f).data.title=c),label:d(t)("sheet_editor.title"),variant:"outlined"},null,8,["modelValue","label"]),a(Tt,{modelValue:d(f).data.description,"onUpdate:modelValue":u[7]||(u[7]=c=>d(f).data.description=c),ref_key:"unit_description",ref:v,id:"unit_description",rows:"1","auto-grow":"",label:d(t)("editor.description"),variant:"outlined",loading:d(z)},{append:r(()=>[a(_t,{location:"bottom end"},{activator:r(({props:c})=>[a(ne,H(c,{disabled:d(z)}),{default:r(()=>[...u[24]||(u[24]=[X(" mdi-dots-vertical z ",-1)])]),_:1},16,["disabled"])]),default:r(()=>[a(et,null,{default:r(()=>[Pe("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","label","loading"]),a(Bt,{density:"compact",flat:"",color:"grey-lighten-4",class:"rounded-b-0 rounded-t-lg"},{default:r(()=>[a(de,{location:"bottom"},{activator:r(({props:c})=>[a(q,H(c,{icon:"",onClick:P}),{default:r(()=>[a(ne,null,{default:r(()=>[...u[25]||(u[25]=[X("mdi-playlist-plus",-1)])]),_:1})]),_:1},16)]),default:r(()=>[V("span",null,R(d(t)("sheet_editor.add_sentence")),1)]),_:1}),a(de,{location:"bottom"},{activator:r(({props:c})=>[a(q,H(c,{icon:"",onClick:u[8]||(u[8]=_e(E=>$(!0),["stop"])),disabled:d(f).data.type==="pairing"}),{default:r(()=>[a(ne,null,{default:r(()=>[...u[26]||(u[26]=[X("mdi-tray-plus",-1)])]),_:1})]),_:1},16,["disabled"])]),default:r(()=>[V("span",null,R(d(t)("sheet_editor.insert_gap")),1)]),_:1}),a(de,{location:"bottom"},{activator:r(({props:c})=>[a(q,H(c,{icon:"",onClick:u[9]||(u[9]=E=>k.value=!0),disabled:d(f).data.type!=="pairing"}),{default:r(()=>[a(ne,null,{default:r(()=>[...u[27]||(u[27]=[X("mdi-equal",-1)])]),_:1})]),_:1},16,["disabled"])]),default:r(()=>[V("span",null,R(d(t)("sheet_editor.add_matching_pair")),1)]),_:1}),a(Je,{modelValue:d(k),"onUpdate:modelValue":u[13]||(u[13]=c=>he(k)?k.value=c:null),"max-width":"750"},{default:r(()=>[a(Ze,null,{default:r(()=>[a(Qe,{ref_key:"add_pair_form",ref:_,onSubmit:_e(A,["prevent"])},{default:r(()=>[a(Me,null,{default:r(()=>[X(R(d(t)("sheet_editor.new_matching_pair")),1)]),_:1}),a(Fe,null,{default:r(()=>[a(Ae,{modelValue:d(C),"onUpdate:modelValue":u[10]||(u[10]=c=>he(C)?C.value=c:null),variant:"underlined",autofocus:"",label:d(t)("sheet_editor.first_item"),rules:[c=>c?!0:"Please type some text"]},null,8,["modelValue","label","rules"]),a(Ae,{modelValue:d(F),"onUpdate:modelValue":u[11]||(u[11]=c=>he(F)?F.value=c:null),variant:"underlined",label:d(t)("sheet_editor.second_item"),rules:[c=>c?!0:"Please type some text"]},null,8,["modelValue","label","rules"])]),_:1}),a(Le,null,{default:r(()=>[a(Ee),a(q,{color:"primary",type:"submit"},{default:r(()=>[X(R(d(t)("sheet_editor.insert_pair")),1)]),_:1}),a(q,{variant:"text",onClick:u[12]||(u[12]=c=>k.value=!1)},{default:r(()=>[X(R(d(t)("main.cancel")),1)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),a(xt,{vertical:"",inset:"",class:"mx-2"}),a(de,{location:"bottom"},{activator:r(({props:c})=>[a(q,H(c,{icon:"",onClick:u[14]||(u[14]=E=>O.value=!0),disabled:d(f).data.type!=="pairing"}),{default:r(()=>[a(ne,null,{default:r(()=>[...u[28]||(u[28]=[X("mdi-movie",-1)])]),_:1})]),_:1},16,["disabled"])]),default:r(()=>[V("span",null,R(d(t)("sheet_editor.insert_video")),1)]),_:1}),a(Je,{modelValue:d(O),"onUpdate:modelValue":u[17]||(u[17]=c=>he(O)?O.value=c:null),"max-width":"750"},{default:r(()=>[a(Ze,null,{default:r(()=>[a(Qe,{onSubmit:_e(M,["prevent"]),ref_key:"insert_video_form",ref:m},{default:r(()=>[a(Me,null,{default:r(()=>[X(R(d(t)("sheet_editor.insert_video")),1)]),_:1}),a(Fe,null,{default:r(()=>[a(Ae,{modelValue:d(B),"onUpdate:modelValue":u[15]||(u[15]=c=>he(B)?B.value=c:null),autofocus:"",label:"Video URL",rules:[c=>/^https?:/i.test(c)?!0:d(t)("sheet_editor.valid_url")]},null,8,["modelValue","rules"])]),_:1}),a(Le,null,{default:r(()=>[a(Ee),a(q,{color:"primary",type:"submit"},{default:r(()=>[X(R(d(t)("sheet_editor.insert_video")),1)]),_:1}),a(q,{variant:"text",onClick:u[16]||(u[16]=c=>O.value=!1)},{default:r(()=>[X(R(d(t)("main.cancel")),1)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),a(Je,{modelValue:d(I),"onUpdate:modelValue":u[20]||(u[20]=c=>he(I)?I.value=c:null),"max-width":"750"},{default:r(()=>[a(Ze,null,{default:r(()=>[a(Qe,{ref_key:"new_gap_form",ref:p,onSubmit:_e(L,["prevent"]),onKeydown:Ot(_e(()=>{},["prevent"]),["enter"])},{default:r(()=>[a(Me,null,{default:r(()=>[X(R(d(t)("sheet_editor.new_gap")),1)]),_:1}),a(Fe,null,{default:r(()=>[a(le,{modelValue:d(h),"onUpdate:modelValue":[u[18]||(u[18]=c=>he(h)?h.value=c:null),u[19]||(u[19]=c=>d(p)?.resetValidation())],firstchecked:"",rules:[()=>d(h).length===0?b.$t("sheet_editor.add_option_validation"):!0],autofocus:""},null,8,["modelValue","rules"])]),_:1}),a(Le,null,{default:r(()=>[a(Ee),a(q,{variant:"text",onClick:re},{default:r(()=>[X(R(d(t)("main.cancel")),1)]),_:1}),a(q,{color:"primary",variant:"elevated",onClick:_e(L,["prevent"])},{default:r(()=>[X(R(d(t)("sheet_editor.insert_gap")),1)]),_:1})]),_:1})]),_:1},8,["onKeydown"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(Tt,{placeholder:d(t)("sheet_editor.start_typing"),name:"textarea-input",ref:"textarea",modelValue:d(f).data.code,"onUpdate:modelValue":u[21]||(u[21]=c=>d(f).data.code=c),"auto-grow":"",variant:"outlined","hide-details":"auto",class:"code rounded-t-0 rounded-b-md"},null,8,["placeholder","modelValue"]),a(At,{modelValue:d(f).data.shuffle,"onUpdate:modelValue":u[22]||(u[22]=c=>d(f).data.shuffle=c),disabled:d(f).data.type==="open_answer",label:d(t)("sheet_editor.shuffle_options"),"prepend-icon":"mdi-shuffle",class:"mt-6 mb-0"},null,8,["modelValue","disabled","label"]),a(At,{modelValue:d(f).data.ignore_case,"onUpdate:modelValue":u[23]||(u[23]=c=>d(f).data.ignore_case=c),disabled:d(f).data.type!=="open_answer",label:d(t)("sheet_editor.ignore_case"),"prepend-icon":"mdi-case-sensitive-alt",class:"mt-0"},null,8,["modelValue","disabled","label"])]),_:1})]),_:1},8,["location"])):Pe("",!0),a(bt,{id:"current-sheet",class:ae(d(U).show?["edition","ms-0"]:void 0)},{default:r(()=>[o.value?.length==0?(j(),oe("div",Jl,[V("div",Ql,R(d(t)("sheet_editor.empty_exercise")),1),V("span",en,R(d(t)("sheet_editor.add_unit_to_begin")),1)])):Pe("",!0),a(Ja,{direction:"vertical"},{default:r(()=>[(j(!0),oe(ue,null,tt(o.value,(c,E)=>(j(),oe("div",{key:J(o.value,E)},[a(Qa,{elevation:E==d(f).index?2:0,"data-section-key":J(o.value,E),class:"mt-1 mb-4 mx-2 transition-swing",rounded:""},{default:r(()=>[a(el,{"no-gutters":""},{default:r(()=>[a(Vt,{class:"flex-grow-0"},{default:r(()=>[a(q,{size:"x-small",depressed:"",onClick:be=>E!=d(f).index?N(E):d(U).show=!1,color:E!=d(f).index?void 0:"primary",class:"rounded-te-0 rounded-be-0",style:{height:"100%","font-size":"1em"}},{default:r(()=>[a(ne,null,{default:r(()=>[X(R(E!=d(f).index?"mdi-pencil":"mdi-check-bold"),1)]),_:2},1024)]),_:2},1032,["onClick","color"])]),_:2},1024),a(Vt,{class:"ms-4"},{default:r(()=>[V("div",tn,[o.value.length>1?(j(),oe("span",an,R(E+1)+".",1)):Pe("",!0),c.title?(j(),oe("span",ln,R(c.title),1)):(j(),oe("span",nn,R(b.$t("sheet_editor.untitled_unit")),1))]),c.description?(j(),oe("div",on,[a(fe,{text:c.description},null,8,["text"])])):Pe("",!0),(j(),xe(al(d(s)(c.type)),{code:c.code,shuffle:c.shuffle||!1,ignore_case:c.ignore_case,silent:!0,ref_for:!0,ref_key:"unit",ref:S},null,8,["code","shuffle","ignore_case"]))]),_:2},1024)]),_:2},1024)]),_:2},1032,["elevation","data-section-key"])]))),128))]),_:1}),a(_t,{"offset-y":""},{activator:r(({props:c})=>[a(q,H({class:"mt-3",variant:"tonal"},c),{default:r(()=>[a(ne,{class:"me-2"},{default:r(()=>[...u[29]||(u[29]=[X("mdi-plus",-1)])]),_:1}),X(" "+R(b.$t("sheet_editor.add_unit")),1)]),_:1},16)]),default:r(()=>[a(et,null,{default:r(()=>[(j(),oe(ue,null,tt(w,(c,E)=>a(Ut,{key:E,onClick:be=>ie(c.unit)},{prepend:r(()=>[a(je,{width:"80",height:"60",contain:"",src:x(c)},{placeholder:r(()=>[a(ql,{type:"image",height:"60"})]),_:1},8,["src"])]),default:r(()=>[a(nl,null,{default:r(()=>[X(R(c.name),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})]),_:1},8,["class"])])}}}),un=ol(sn,[["__scopeId","data-v-251703bd"]]),rn=G({...me(),...qe(ul(),["fullHeight"]),...$e()},"VApp"),dn=Q()({name:"VApp",props:rn(),setup(e,i){let{slots:l}=i;const t=Be(e),{layoutClasses:n,getLayoutItem:o,items:s,layoutRef:v}=vl({...e,fullHeight:!0}),{rtlClasses:_}=vt();return ee(()=>V("div",{ref:v,class:ae(["v-application",t.themeClasses.value,n.value,_.value,e.class]),style:ve([e.style])},[V("div",{class:"v-application__wrap"},[l.default?.()])])),{getLayoutItem:o,items:s,theme:t}}}),cn={id:"exercise-editor"},vn=ot({__name:"Editor",setup(e){const i=document.getElementById("id_data"),l=i.value==="{}"?{sheet:[]}:JSON.parse(i.value),t=D(l.sheet);return ct(()=>{const n=l;n.sheet=t.value,i.value=JSON.stringify(n)}),(n,o)=>{const s=un;return j(),oe("div",cn,[a(dn,null,{default:r(()=>[a(s,{sheet:d(t),"onUpdate:sheet":o[0]||(o[0]=v=>he(t)?t.value=v:null),ref:"sheet_editor",class:"mt-8",onSave:n.save},null,8,["sheet","onSave"])]),_:1})])}}}),ta=il(vn);sl(ta);ta.mount("#mount-editor");
